# Pylint-Ignore

**WARNING: This file is programatically generated.**

This file is parsed by [`pylint-ignore`](https://pypi.org/project/pylint-ignore/)
to determine which
[Pylint messages](https://pylint.pycqa.org/en/stable/technical_reference/features.html)
should be ignored.

- Do not edit this file manually.
- To update, use `pylint-ignore --update-ignorefile`

The recommended approach to using `pylint-ignore` is:

1. If a message refers to a valid issue, update your code rather than
   ignoring the message.
2. If a message should *always* be ignored (globally), then to do so
   via the usual `pylintrc` or `setup.cfg` files rather than this
   `pylint-ignore.md` file.
3. If a message is a false positive, add a comment of this form to your code:
   `# pylint:disable=<symbol> ; explain why this is a false positive`


# Overview

 - [E1101: no-member (30x)](#e1101-no-member)
 - [E1102: not-callable (1x)](#e1102-not-callable)
 - [E1111: assignment-from-no-return (2x)](#e1111-assignment-from-no-return)
 - [E1120: no-value-for-parameter (1x)](#e1120-no-value-for-parameter)
 - [E1121: too-many-function-args (1x)](#e1121-too-many-function-args)
 - [E1137: unsupported-assignment-operation (1x)](#e1137-unsupported-assignment-operation)
 - [W0201: attribute-defined-outside-init (18x)](#w0201-attribute-defined-outside-init)
 - [W0212: protected-access (45x)](#w0212-protected-access)
 - [W0221: arguments-differ (3x)](#w0221-arguments-differ)
 - [W0223: abstract-method (6x)](#w0223-abstract-method)
 - [W0231: super-init-not-called (1x)](#w0231-super-init-not-called)
 - [W0511: fixme (14x)](#w0511-fixme)
 - [W0603: global-statement (1x)](#w0603-global-statement)
 - [W0613: unused-argument (8x)](#w0613-unused-argument)
 - [W0621: redefined-outer-name (20x)](#w0621-redefined-outer-name)
 - [W0622: redefined-builtin (5x)](#w0622-redefined-builtin)
 - [W1113: keyword-arg-before-vararg (1x)](#w1113-keyword-arg-before-vararg)
 - [C0114: missing-module-docstring (5x)](#c0114-missing-module-docstring)
 - [C0115: missing-class-docstring (16x)](#c0115-missing-class-docstring)
 - [C0116: missing-function-docstring (106x)](#c0116-missing-function-docstring)
 - [C0302: too-many-lines (4x)](#c0302-too-many-lines)
 - [C0411: wrong-import-order (1x)](#c0411-wrong-import-order)
 - [R0201: no-self-use (32x)](#r0201-no-self-use)
 - [R0901: too-many-ancestors (6x)](#r0901-too-many-ancestors)
 - [R0903: too-few-public-methods (2x)](#r0903-too-few-public-methods)
 - [R0912: too-many-branches (7x)](#r0912-too-many-branches)
 - [R0913: too-many-arguments (24x)](#r0913-too-many-arguments)
 - [R0914: too-many-locals (14x)](#r0914-too-many-locals)
 - [R0915: too-many-statements (2x)](#r0915-too-many-statements)
 - [R1718: consider-using-set-comprehension (3x)](#r1718-consider-using-set-comprehension)
 - [R1720: no-else-raise (6x)](#r1720-no-else-raise)
 - [R1724: no-else-continue (1x)](#r1724-no-else-continue)
 - [R1725: super-with-arguments (3x)](#r1725-super-with-arguments)


# E1101: no-member

## File caput/tests/test_memh5_parallel.py - Line 54 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'local_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  23:     def test_create_dataset(self):
  ...
  52:         self.assertTrue(np.allclose(d_array_T, g["data_T"][:]))
  53:         if comm is not None:
> 54:             self.assertEqual(d_array_T.local_shape, g["data2"].local_shape)
  55:
  56:         # Test global indexing
```


## File caput/tests/test_memh5_parallel.py - Line 128 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'dtype' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   59:     def test_io(self):
  ...
  126:
  127:         # Check the unicode dataset
> 128:         self.assertEqual(g2["unicode_data"].dtype.kind, "U")
  129:         self.assertEqual(g2["unicode_data"][0], "hello")
  130:
```


## File caput/tests/test_mpiarray.py - Line 186 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'global_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  184:
  185:         # Check global shape
> 186:         assert arr2.global_shape == (11, 14, 1, 2)
  187:
  188:         # Check local shape
```


## File caput/tests/test_mpiarray.py - Line 189 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'local_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  187:
  188:         # Check local shape
> 189:         assert arr2.local_shape == (l0, 14, 1, 2)
  190:
  191:         # Check local offset
```


## File caput/tests/test_mpiarray.py - Line 192 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'local_offset' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  190:
  191:         # Check local offset
> 192:         assert arr2.local_offset == (s0, 0, 0, 0)
  193:
  194:         # Check axis
```


## File caput/tests/test_memh5_parallel.py - Line 195 - E1101 (no-member)

- `message: Instance of '_BaseGroup' has no 'distributed_axis' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  189:     def test_redistribute(self):
  ...
  193:         # Create an array from data
  194:         g.create_dataset("data", shape=(10, 10), distributed=True, distributed_axis=0)
> 195:         self.assertEqual(g["data"].distributed_axis, 0)
  196:         g.redistribute(1)
  197:         self.assertEqual(g["data"].distributed_axis, 1)
```


## File caput/tests/test_memh5_parallel.py - Line 197 - E1101 (no-member)

- `message: Instance of '_BaseGroup' has no 'distributed_axis' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  189:     def test_redistribute(self):
  ...
  195:         self.assertEqual(g["data"].distributed_axis, 0)
  196:         g.redistribute(1)
> 197:         self.assertEqual(g["data"].distributed_axis, 1)
  198:
  199:
```


## File caput/tests/test_mpiarray.py - Line 204 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'global_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  202:
  203:         # Check global shape
> 204:         assert arr3.global_shape == (11, 14, 1, 2)
  205:
  206:         # Check local shape
```


## File caput/tests/test_mpiarray.py - Line 207 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'local_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  205:
  206:         # Check local shape
> 207:         assert arr3.local_shape == (l0, 14, 1, 2)
  208:
  209:         # Check local offset
```


## File caput/tests/test_mpiarray.py - Line 210 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'local_offset' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  208:
  209:         # Check local offset
> 210:         assert arr3.local_offset == (s0, 0, 0, 0)
  211:
  212:         # Check axis
```


## File caput/tests/test_mpiarray.py - Line 213 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'axis' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  211:
  212:         # Check axis
> 213:         assert arr3.axis == 0
  214:
  215:         # Do the same test with None as argument to transpose
```


## File caput/tests/test_mpiarray.py - Line 222 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'global_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  220:
  221:         # Check global shape
> 222:         assert arr4.global_shape == (14, 2, 11, 1)
  223:
  224:         # Check local shape
```


## File caput/tests/test_mpiarray.py - Line 225 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'local_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  223:
  224:         # Check local shape
> 225:         assert arr4.local_shape == (14, 2, l0, 1)
  226:
  227:         # Check local offset
```


## File caput/tests/test_mpiarray.py - Line 228 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'local_offset' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  226:
  227:         # Check local offset
> 228:         assert arr4.local_offset == (0, 0, s0, 0)
  229:
  230:         # Check axis
```


## File caput/tests/test_mpiarray.py - Line 231 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'axis' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  172:     def test_transpose(self):
  ...
  229:
  230:         # Check axis
> 231:         assert arr4.axis == 2
  232:
  233:     def test_reshape(self):
```


## File caput/tests/test_mpiarray.py - Line 247 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'global_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  233:     def test_reshape(self):
  ...
  245:
  246:         # Check global shape
> 247:         assert arr2.global_shape == (11, 28)
  248:
  249:         # Check local shape
```


## File caput/tests/test_mpiarray.py - Line 250 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'local_shape' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  233:     def test_reshape(self):
  ...
  248:
  249:         # Check local shape
> 250:         assert arr2.local_shape == (l0, 28)
  251:
  252:         # Check local offset
```


## File caput/tests/test_mpiarray.py - Line 253 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'local_offset' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  233:     def test_reshape(self):
  ...
  251:
  252:         # Check local offset
> 253:         assert arr2.local_offset == (s0, 0)
  254:
  255:         # Check axis
```


## File caput/tests/test_mpiarray.py - Line 256 - E1101 (no-member)

- `message: Instance of 'ndarray' has no 'axis' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  233:     def test_reshape(self):
  ...
  254:
  255:         # Check axis
> 256:         assert arr2.axis == 0
  257:
  258:     def test_global_getslice(self):
```


## File caput/tests/test_memh5.py - Line 282 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'dtype' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  254:     def test_to_from_hdf5(self):
  ...
  280:         # Test a load without conversion, types should be bytestrings
  281:         m2 = memh5.MemGroup.from_hdf5(self.fname)
> 282:         self.assertEqual(m2["udata"].dtype.kind, "S")
  283:         self.assertEqual(m2["sdata"].dtype.kind, "S")
  284:         # Check the dtype here, for some reason Python 2 thinks the arrays are equal
```


## File caput/tests/test_memh5.py - Line 283 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'dtype' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  254:     def test_to_from_hdf5(self):
  ...
  281:         m2 = memh5.MemGroup.from_hdf5(self.fname)
  282:         self.assertEqual(m2["udata"].dtype.kind, "S")
> 283:         self.assertEqual(m2["sdata"].dtype.kind, "S")
  284:         # Check the dtype here, for some reason Python 2 thinks the arrays are equal
  285:         # and Python 3 does not even though both agree that the datatypes are different
```


## File caput/tests/test_memh5.py - Line 286 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'dtype' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  254:     def test_to_from_hdf5(self):
  ...
  284:         # Check the dtype here, for some reason Python 2 thinks the arrays are equal
  285:         # and Python 3 does not even though both agree that the datatypes are different
> 286:         self.assertTrue(m["udata"].dtype != m2["udata"].dtype)
  287:         self.assertTrue((m["sdata"].data == m2["sdata"].data).all())
  288:
```


## File caput/tests/test_memh5.py - Line 287 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'data' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  254:     def test_to_from_hdf5(self):
  ...
  285:         # and Python 3 does not even though both agree that the datatypes are different
  286:         self.assertTrue(m["udata"].dtype != m2["udata"].dtype)
> 287:         self.assertTrue((m["sdata"].data == m2["sdata"].data).all())
  288:
  289:         # Test a load *with* conversion, types should be unicode
```


## File caput/tests/test_memh5.py - Line 293 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'dtype' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  254:     def test_to_from_hdf5(self):
  ...
  291:             self.fname, convert_attribute_strings=True, convert_dataset_strings=True
  292:         )
> 293:         self.assertEqual(m3["udata"].dtype.kind, "U")
  294:         self.assertEqual(m3["sdata"].dtype.kind, "U")
  295:         self.assertTrue((m["udata"].data == m3["udata"].data).all())
```


## File caput/tests/test_memh5.py - Line 294 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'dtype' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  254:     def test_to_from_hdf5(self):
  ...
  292:         )
  293:         self.assertEqual(m3["udata"].dtype.kind, "U")
> 294:         self.assertEqual(m3["sdata"].dtype.kind, "U")
  295:         self.assertTrue((m["udata"].data == m3["udata"].data).all())
  296:         self.assertTrue((m["udata"].data == m3["sdata"].data).all())
```


## File caput/tests/test_memh5.py - Line 295 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'data' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  254:     def test_to_from_hdf5(self):
  ...
  293:         self.assertEqual(m3["udata"].dtype.kind, "U")
  294:         self.assertEqual(m3["sdata"].dtype.kind, "U")
> 295:         self.assertTrue((m["udata"].data == m3["udata"].data).all())
  296:         self.assertTrue((m["udata"].data == m3["sdata"].data).all())
  297:
```


## File caput/tests/test_memh5.py - Line 296 - E1101 (no-member)

- `message: Instance of 'MemGroup' has no 'data' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  254:     def test_to_from_hdf5(self):
  ...
  294:         self.assertEqual(m3["sdata"].dtype.kind, "U")
  295:         self.assertTrue((m["udata"].data == m3["udata"].data).all())
> 296:         self.assertTrue((m["udata"].data == m3["sdata"].data).all())
  297:
  298:     def test_failure(self):
```


## File caput/memh5.py - Line 338 - E1101 (no-member)

- `message: Instance of '_BaseGroup' has no 'create_dataset' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  329:     def require_dataset(self, name, shape, dtype, **kwargs):
  ...
  336:             d = self[name]
  337:         except KeyError:
> 338:             return self.create_dataset(name, shape=shape, dtype=dtype, **kwargs)
  339:         if is_group(d):
  340:             msg = "Entry '%s' exists and is not a Dataset." % name
```


## File caput/memh5.py - Line 350 - E1101 (no-member)

- `message: Instance of '_BaseGroup' has no 'create_group' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  345:     def require_group(self, name):
  ...
  348:             g = self[name]
  349:         except KeyError:
> 350:             return self.create_group(name)
  351:         if not is_group(g):
  352:             msg = "Entry '%s' exists and is not a Group." % name
```


## File caput/mpiarray.py - Line 429 - E1101 (no-member)

- `message: Module 'caput.mpiutil' has no 'MAX' member`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  392:     def wrap(cls, array, axis, comm=None):
  ...
  427:         # Check the local layout is consistent with what we expect, and send
  428:         # result to all ranks.
> 429:         layout_issue = mpiutil.allreduce(axlen != local_num, op=mpiutil.MAX, comm=comm)
  430:
  431:         if layout_issue:
```


# E1102: not-callable

## File caput/pipeline.py - Line 1038 - E1102 (not-callable)

- `message: self.next is not callable`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1007:     def _pipeline_next(self):
  ...
  1036:                 msg = "Task %s calling 'next()'." % self.__class__.__name__
  1037:                 logger.debug(msg)
> 1038:                 out = self.next(*args)
  1039:                 return out
  1040:             except PipelineStopIteration:
```


# E1111: assignment-from-no-return

## File caput/pipeline.py - Line 1023 - E1111 (assignment-from-no-return)

- `message: Assigning result of a function call, where the function has no return`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1007:     def _pipeline_next(self):
  ...
  1021:             msg = "Task %s calling 'setup()'." % self.__class__.__name__
  1022:             logger.debug(msg)
> 1023:             out = self.setup(*tuple(self._requires))
  1024:             self._pipeline_advance_state()
  1025:             return out
```


## File caput/pipeline.py - Line 1047 - E1111 (assignment-from-no-return)

- `message: Assigning result of a function call, where the function has no return`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1007:     def _pipeline_next(self):
  ...
  1045:             msg = "Task %s calling 'finish()'." % self.__class__.__name__
  1046:             logger.debug(msg)
> 1047:             out = self.finish()
  1048:             self._pipeline_advance_state()
  1049:             return out
```


# E1120: no-value-for-parameter

## File caput/pipeline.py - Line 1204 - E1120 (no-value-for-parameter)

- `message: No value for argument 'input' in method call`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1186:     def read_process_write(self, input, input_filename, output_filename):
  ...
  1202:                 # This should never happen.  Just here to catch bugs.
  1203:                 raise RuntimeError("Somehow `input` was set.")
> 1204:             output = self.process()
  1205:         else:
  1206:             output = self.process(input)
```


# E1121: too-many-function-args

## File caput/ephemeris.py - Line 25 - E1121 (too-many-function-args)

- `message: Too many positional arguments for function call`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  20: def source_alt(obs, source, t):
  ...
  23:     time = _timescale.tt_jd(t)
  24:     pos = obs.at(time).observe(source)
> 25:     alt = _to_altaz(pos.position.au, pos.observer_data, None, None)[0].degrees
  26:
  27:     return alt
```


# E1137: unsupported-assignment-operation

## File caput/tests/test_memh5.py - Line 28 - E1137 (unsupported-assignment-operation)

- `message: 'a' does not support item assignment`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  21:     def test_everything(self):
  ...
  26:         # Convoluded test to make sure you can't write to it.
  27:         try:
> 28:             a["b"] = 6
  29:         except TypeError:
  30:             correct = True
```


# W0201: attribute-defined-outside-init

## File caput/_version.py - Line 41 - W0201 (attribute-defined-outside-init)

- `message: Attribute 'VCS' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: def get_config():
  ...
  39:     # _version.py
  40:     cfg = VersioneerConfig()
> 41:     cfg.VCS = "git"
  42:     cfg.style = "pep440"
  43:     cfg.tag_prefix = "v"
```


## File caput/_version.py - Line 42 - W0201 (attribute-defined-outside-init)

- `message: Attribute 'style' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: def get_config():
  ...
  40:     cfg = VersioneerConfig()
  41:     cfg.VCS = "git"
> 42:     cfg.style = "pep440"
  43:     cfg.tag_prefix = "v"
  44:     cfg.parentdir_prefix = "caput-"
```


## File caput/_version.py - Line 43 - W0201 (attribute-defined-outside-init)

- `message: Attribute 'tag_prefix' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: def get_config():
  ...
  41:     cfg.VCS = "git"
  42:     cfg.style = "pep440"
> 43:     cfg.tag_prefix = "v"
  44:     cfg.parentdir_prefix = "caput-"
  45:     cfg.versionfile_source = "caput/_version.py"
```


## File caput/_version.py - Line 44 - W0201 (attribute-defined-outside-init)

- `message: Attribute 'parentdir_prefix' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: def get_config():
  ...
  42:     cfg.style = "pep440"
  43:     cfg.tag_prefix = "v"
> 44:     cfg.parentdir_prefix = "caput-"
  45:     cfg.versionfile_source = "caput/_version.py"
  46:     cfg.verbose = False
```


## File caput/_version.py - Line 45 - W0201 (attribute-defined-outside-init)

- `message: Attribute 'versionfile_source' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: def get_config():
  ...
  43:     cfg.tag_prefix = "v"
  44:     cfg.parentdir_prefix = "caput-"
> 45:     cfg.versionfile_source = "caput/_version.py"
  46:     cfg.verbose = False
  47:     return cfg
```


## File caput/_version.py - Line 46 - W0201 (attribute-defined-outside-init)

- `message: Attribute 'verbose' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: def get_config():
  ...
  44:     cfg.parentdir_prefix = "caput-"
  45:     cfg.versionfile_source = "caput/_version.py"
> 46:     cfg.verbose = False
  47:     return cfg
  48:
```


## File caput/pipeline.py - Line 964 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_requires_keys' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  911:     def _setup_keys(self, in_=None, out=None, requires=None):
  ...
  962:         # Now that all data product keys have been verified to be valid, store
  963:         # them on the instance.
> 964:         self._requires_keys = requires
  965:         self._requires = [None] * n_requires
  966:         self._in_keys = in_
```


## File caput/pipeline.py - Line 965 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_requires' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  911:     def _setup_keys(self, in_=None, out=None, requires=None):
  ...
  963:         # them on the instance.
  964:         self._requires_keys = requires
> 965:         self._requires = [None] * n_requires
  966:         self._in_keys = in_
  967:         self._in = [queue.Queue() for i in range(n_in)]
```


## File caput/pipeline.py - Line 966 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_in_keys' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  911:     def _setup_keys(self, in_=None, out=None, requires=None):
  ...
  964:         self._requires_keys = requires
  965:         self._requires = [None] * n_requires
> 966:         self._in_keys = in_
  967:         self._in = [queue.Queue() for i in range(n_in)]
  968:         self._out_keys = out
```


## File caput/pipeline.py - Line 967 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_in' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  911:     def _setup_keys(self, in_=None, out=None, requires=None):
  ...
  965:         self._requires = [None] * n_requires
  966:         self._in_keys = in_
> 967:         self._in = [queue.Queue() for i in range(n_in)]
  968:         self._out_keys = out
  969:
```


## File caput/pipeline.py - Line 968 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_out_keys' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  911:     def _setup_keys(self, in_=None, out=None, requires=None):
  ...
  966:         self._in_keys = in_
  967:         self._in = [queue.Queue() for i in range(n_in)]
> 968:         self._out_keys = out
  969:
  970:     def _pipeline_advance_state(self):
```


## File caput/pipeline.py - Line 982 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_pipeline_state' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  970:     def _pipeline_advance_state(self):
  ...
  980:
  981:         if not hasattr(self, "_pipeline_state"):
> 982:             self._pipeline_state = "setup"
  983:         elif self._pipeline_state == "setup":
  984:             # Delete inputs to free memory.
```


## File caput/pipeline.py - Line 985 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_requires' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  970:     def _pipeline_advance_state(self):
  ...
  983:         elif self._pipeline_state == "setup":
  984:             # Delete inputs to free memory.
> 985:             self._requires = None
  986:             self._pipeline_state = "next"
  987:         elif self._pipeline_state == "next":
```


## File caput/pipeline.py - Line 986 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_pipeline_state' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  970:     def _pipeline_advance_state(self):
  ...
  984:             # Delete inputs to free memory.
  985:             self._requires = None
> 986:             self._pipeline_state = "next"
  987:         elif self._pipeline_state == "next":
  988:             # Make sure input queues are empty then delete them so no more data
```


## File caput/pipeline.py - Line 998 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_in' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   970:     def _pipeline_advance_state(self):
  ...
   996:                     warnings.warn(msg)
   997:
>  998:             self._in = None
   999:             self._pipeline_state = "finish"
  1000:         elif self._pipeline_state == "finish":
```


## File caput/pipeline.py - Line 999 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_pipeline_state' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   970:     def _pipeline_advance_state(self):
  ...
   997:
   998:             self._in = None
>  999:             self._pipeline_state = "finish"
  1000:         elif self._pipeline_state == "finish":
  1001:             self._pipeline_state = "raise"
```


## File caput/pipeline.py - Line 1001 - W0201 (attribute-defined-outside-init)

- `message: Attribute '_pipeline_state' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   970:     def _pipeline_advance_state(self):
  ...
   999:             self._pipeline_state = "finish"
  1000:         elif self._pipeline_state == "finish":
> 1001:             self._pipeline_state = "raise"
  1002:         elif self._pipeline_state == "raise":
  1003:             pass
```


## File caput/pipeline.py - Line 1295 - W0201 (attribute-defined-outside-init)

- `message: Attribute 'done' defined outside __init__`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1287:     def next(self, input=None):
  ...
  1293:                 raise PipelineStopIteration()
  1294:         except AttributeError:
> 1295:             self.done = True
  1296:
  1297:         if input:
```


# W0212: protected-access

## File caput/ephemeris.py - Line 15 - W0212 (protected-access)

- `message: Access to a protected member _degrees of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  12: def source_ha(obs, source, t):
  ...
  13:     time = _timescale.tt_jd(t)
  14:     lst = time.gast * 15 + obs.positives[-1].longitude.degrees
> 15:     ra = obs.at(time).observe(source).radec(epoch=time)[0]._degrees
  16:
  17:     return (((lst - ra) + 180) % 360) - 180
```


## File caput/tests/test_memh5.py - Line 136 - W0212 (protected-access)

- `message: Access to a protected member _data of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134:     def test_memdisk(self):
  135:         f = memh5.MemDiskGroup(self.fname)
> 136:         self.assertEqual(set(f.keys()), set(f._data.keys()))
  137:         m = memh5.MemDiskGroup(memh5.MemGroup.from_hdf5(self.fname))
  138:         self.assertEqual(set(m.keys()), set(f.keys()))
```


## File caput/config.py - Line 205 - W0212 (protected-access)

- `message: Access to a protected member _from_config of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  177:     def read_config(self, config, compare_keys=False, use_defaults=True):
  ...
  203:             for clsprop in basecls.__dict__.values():
  204:                 if isinstance(clsprop, Property):
> 205:                     clsprop._from_config(self, config)
  206:                     prop_keys.append(clsprop.key)
  207:         if compare_keys:
```


## File caput/tests/test_memh5.py - Line 214 - W0212 (protected-access)

- `message: Access to a protected member _data of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  212:     def test_access(self):
  213:         d = memh5.BasicCont.from_file(self.fname)
> 214:         self.assertTrue("history" in d._data)
  215:         self.assertTrue("index_map" in d._data)
  216:         self.assertRaises(KeyError, d.__getitem__, "history")
```


## File caput/tests/test_memh5.py - Line 215 - W0212 (protected-access)

- `message: Access to a protected member _data of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  212:     def test_access(self):
  ...
  213:         d = memh5.BasicCont.from_file(self.fname)
  214:         self.assertTrue("history" in d._data)
> 215:         self.assertTrue("index_map" in d._data)
  216:         self.assertRaises(KeyError, d.__getitem__, "history")
  217:         self.assertRaises(KeyError, d.__getitem__, "index_map")
```


## File caput/memh5.py - Line 230 - W0212 (protected-access)

- `message: Access to a protected member _from_storage_root of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  227:     def parent(self):
  ...
  228:         """Parent :class:`MemGroup` that contains this group."""
  229:         parent_name, _ = posixpath.split(self.name)
> 230:         return self._group_class._from_storage_root(self._storage_root, parent_name)
  231:
  232:     @property
```


## File caput/memh5.py - Line 235 - W0212 (protected-access)

- `message: Access to a protected member _from_storage_root of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  233:     def file(self):
  234:         """Not a file at all but the top most :class:`MemGroup` of the tree."""
> 235:         return self._group_class._from_storage_root(self._storage_root, "/")
  236:
  237:     def __eq__(self, other):
```


## File caput/mpiutil.py - Line 285 - W0212 (protected-access)

- `message: Access to a protected member _typedict of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  268: def typemap(dtype):
  ...
  283:         return MPI.__TypeDict__[np.dtype(dtype).char]
  284:     except AttributeError:
> 285:         return MPI._typedict[np.dtype(dtype).char]
  286:
  287:
```


## File caput/mpiarray.py - Line 444 - W0212 (protected-access)

- `message: Access to a protected member _global_shape of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  392:     def wrap(cls, array, axis, comm=None):
  ...
  442:         # Setup attributes of class
  443:         dist_arr = array.view(cls)
> 444:         dist_arr._global_shape = tuple(global_shape)
  445:         dist_arr._axis = axis
  446:         dist_arr._local_shape = tuple(lshape)
```


## File caput/mpiarray.py - Line 445 - W0212 (protected-access)

- `message: Access to a protected member _axis of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  392:     def wrap(cls, array, axis, comm=None):
  ...
  443:         dist_arr = array.view(cls)
  444:         dist_arr._global_shape = tuple(global_shape)
> 445:         dist_arr._axis = axis
  446:         dist_arr._local_shape = tuple(lshape)
  447:         dist_arr._local_offset = tuple(loffset)
```


## File caput/mpiarray.py - Line 446 - W0212 (protected-access)

- `message: Access to a protected member _local_shape of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  392:     def wrap(cls, array, axis, comm=None):
  ...
  444:         dist_arr._global_shape = tuple(global_shape)
  445:         dist_arr._axis = axis
> 446:         dist_arr._local_shape = tuple(lshape)
  447:         dist_arr._local_offset = tuple(loffset)
  448:         dist_arr._comm = comm
```


## File caput/mpiarray.py - Line 447 - W0212 (protected-access)

- `message: Access to a protected member _local_offset of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  392:     def wrap(cls, array, axis, comm=None):
  ...
  445:         dist_arr._axis = axis
  446:         dist_arr._local_shape = tuple(lshape)
> 447:         dist_arr._local_offset = tuple(loffset)
  448:         dist_arr._comm = comm
  449:
```


## File caput/mpiarray.py - Line 448 - W0212 (protected-access)

- `message: Access to a protected member _comm of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  392:     def wrap(cls, array, axis, comm=None):
  ...
  446:         dist_arr._local_shape = tuple(lshape)
  447:         dist_arr._local_offset = tuple(loffset)
> 448:         dist_arr._comm = comm
  449:
  450:         return dist_arr
```


## File caput/tod.py - Line 498 - W0212 (protected-access)

- `message: Access to a protected member _hl of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  305:         def dataset_filter(d):
  ...
  496:                 mtype = h5py.h5t.py_create(out_dtype)
  497:                 mdata = dataset.copy().flat[:]
> 498:                 mspace = h5py._hl.selections.SimpleSelection(
  499:                     (mdata.size // out_dtype.itemsize,)
  500:                 ).id
```


## File caput/tod.py - Line 501 - W0212 (protected-access)

- `message: Access to a protected member _hl of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  305:         def dataset_filter(d):
  ...
  499:                     (mdata.size // out_dtype.itemsize,)
  500:                 ).id
> 501:                 fspace = h5py._hl.selections.select(
  502:                     out_dset.shape, out_slice, out_dset.id
  503:                 ).id
```


## File caput/time.py - Line 502 - W0212 (protected-access)

- `message: Access to a protected member _degrees of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  484:         def f(t):
  ...
  500:             if len(transits) > 0:
  501:                 pos = self.skyfield_obs().at(t_sf).observe(source)
> 502:                 dec = pos.cirs_radec(epoch=t_sf)[1]._degrees
  503:             else:
  504:                 dec = np.array([], dtype=np.float64)
```


## File caput/pipeline.py - Line 564 - W0212 (protected-access)

- `message: Access to a protected member _setup_logging of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  528:     def from_yaml_str(cls, yaml_doc, lint=False):
  ...
  562:             "pipeline_config": self.all_params if self.save_config else None,
  563:         }
> 564:         self._setup_logging(lint)
  565:         self._setup_tasks()
  566:
```


## File caput/pipeline.py - Line 565 - W0212 (protected-access)

- `message: Access to a protected member _setup_tasks of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  528:     def from_yaml_str(cls, yaml_doc, lint=False):
  ...
  563:         }
  564:         self._setup_logging(lint)
> 565:         self._setup_tasks()
  566:
  567:         return self
```


## File caput/pipeline.py - Line 603 - W0212 (protected-access)

- `message: Access to a protected member _pipeline_next of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  590:     def run(self):
  ...
  601:                 # These lines control the flow of the pipeline.
  602:                 try:
> 603:                     out = task._pipeline_next()
  604:                 except _PipelineMissingData:
  605:                     if self.tasks.index(task) == 0:
```


## File caput/memh5.py - Line 605 - W0212 (protected-access)

- `message: Access to a protected member _get_storage of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  566:     def create_dataset(
  ...
  603:         parent_name, name = posixpath.split(posixpath.join(self.name, name))
  604:         parent_name = format_abs_path(parent_name)
> 605:         parent_storage = self.require_group(parent_name)._get_storage()
  606:
  607:         # If distributed, synchronise to ensure that we create group collectively
```


## File caput/pipeline.py - Line 611 - W0212 (protected-access)

- `message: Access to a protected member _pipeline_advance_state of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  590:     def run(self):
  ...
  609:                         )
  610:                         logger.debug(msg)
> 611:                         task._pipeline_advance_state()
  612:                     break
  613:                 except _PipelineFinished:
```


## File caput/pipeline.py - Line 618 - W0212 (protected-access)

- `message: Access to a protected member _out_keys of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  590:     def run(self):
  ...
  616:                 # Now pass the output data products to any task that needs
  617:                 # them.
> 618:                 out_keys = task._out_keys
  619:                 if out is None:  # This iteration supplied no output.
  620:                     continue
```


## File caput/time.py - Line 641 - W0212 (protected-access)

- `message: Access to a protected member _degrees of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  636:     def _source_ha(self, source, t):
  ...
  639:         lst = time.gast * 15 + self.longitude
  640:
> 641:         ra = self.skyfield_obs().at(time).observe(source).radec(epoch=time)[0]._degrees
  642:
  643:         return (((lst - ra) + 180) % 360) - 180
```


## File caput/pipeline.py - Line 643 - W0212 (protected-access)

- `message: Access to a protected member _pipeline_inspect_queue_product of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  590:     def run(self):
  ...
  641:                 logger.debug(msg)
  642:                 for receiving_task in self.tasks:
> 643:                     receiving_task._pipeline_inspect_queue_product(out_keys, out)
  644:
  645:     def _setup_tasks(self):
```


## File caput/mpiarray.py - Line 672 - W0212 (protected-access)

- `message: Access to a protected member _partition_io of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  610:     def from_hdf5(cls, f, dataset, comm=None, axis=0, sel=None):
  ...
  670:
  671:         # Split the axis to get the IO size under ~2GB (only if MPI-IO)
> 672:         split_axis, partitions = dist_arr._partition_io(skip=(not fh.is_mpi))
  673:
  674:         # Check that there are no null slices, otherwise we need to turn off
```


## File caput/pipeline.py - Line 753 - W0212 (protected-access)

- `message: Access to a protected member _from_config of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  686:     def _setup_task(self, task_spec):
  ...
  751:         # Create and configure the task instance
  752:         try:
> 753:             task = task_cls._from_config(task_params)
  754:         except config.CaputConfigError as e:
  755:             raise config.CaputConfigError(
```


## File caput/pipeline.py - Line 778 - W0212 (protected-access)

- `message: Access to a protected member _setup_keys of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  762:     def add_task(self, task, requires=None, in_=None, out=None):
  ...
  776:         """
  777:         try:
> 778:             task._setup_keys(requires=requires, in_=in_, out=out)
  779:         except Exception as e:
  780:             msg = "Setting up keys for task {} caused an error:\n\t{}".format(
```


## File caput/mpiarray.py - Line 814 - W0212 (protected-access)

- `message: Access to a protected member _axis of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  787:     def transpose(self, *axes):
  ...
  812:         tdata.local_offset = tuple(self.local_offset[ax] for ax in axes)
  813:
> 814:         tdata._axis = list(axes).index(self.axis)
  815:         tdata._comm = self._comm
  816:
```


## File caput/mpiarray.py - Line 815 - W0212 (protected-access)

- `message: Access to a protected member _comm of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  787:     def transpose(self, *axes):
  ...
  813:
  814:         tdata._axis = list(axes).index(self.axis)
> 815:         tdata._comm = self._comm
  816:
  817:         return tdata
```


## File caput/mpiarray.py - Line 857 - W0212 (protected-access)

- `message: Access to a protected member _axis of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  819:     def reshape(self, *shape):
  ...
  855:         rdata = np.ndarray.reshape(self, local_shape)
  856:
> 857:         rdata._axis = new_axis
  858:         rdata._comm = self._comm
  859:         rdata._local_shape = tuple(local_shape)
```


## File caput/mpiarray.py - Line 858 - W0212 (protected-access)

- `message: Access to a protected member _comm of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  819:     def reshape(self, *shape):
  ...
  856:
  857:         rdata._axis = new_axis
> 858:         rdata._comm = self._comm
  859:         rdata._local_shape = tuple(local_shape)
  860:         rdata._global_shape = tuple(global_shape)
```


## File caput/mpiarray.py - Line 859 - W0212 (protected-access)

- `message: Access to a protected member _local_shape of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  819:     def reshape(self, *shape):
  ...
  857:         rdata._axis = new_axis
  858:         rdata._comm = self._comm
> 859:         rdata._local_shape = tuple(local_shape)
  860:         rdata._global_shape = tuple(global_shape)
  861:         rdata._local_offset = tuple(local_offset)
```


## File caput/mpiarray.py - Line 860 - W0212 (protected-access)

- `message: Access to a protected member _global_shape of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  819:     def reshape(self, *shape):
  ...
  858:         rdata._comm = self._comm
  859:         rdata._local_shape = tuple(local_shape)
> 860:         rdata._global_shape = tuple(global_shape)
  861:         rdata._local_offset = tuple(local_offset)
  862:
```


## File caput/mpiarray.py - Line 861 - W0212 (protected-access)

- `message: Access to a protected member _local_offset of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  819:     def reshape(self, *shape):
  ...
  859:         rdata._local_shape = tuple(local_shape)
  860:         rdata._global_shape = tuple(global_shape)
> 861:         rdata._local_offset = tuple(local_offset)
  862:
  863:         return rdata
```


## File caput/memh5.py - Line 873 - W0212 (protected-access)

- `message: Access to a protected member _attrs of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  869:     def view(self):
  ...
  871:         out = cls.__new__(cls)
  872:         super(MemDataset, out).__init__(name=self.name, storage_root=self._storage_root)
> 873:         out._attrs = self._attrs
  874:         out._data = self._data
  875:         out.chunks = self.chunks
```


## File caput/memh5.py - Line 874 - W0212 (protected-access)

- `message: Access to a protected member _data of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  869:     def view(self):
  ...
  872:         super(MemDataset, out).__init__(name=self.name, storage_root=self._storage_root)
  873:         out._attrs = self._attrs
> 874:         out._data = self._data
  875:         out.chunks = self.chunks
  876:         out.compression = self.compression
```


## File caput/memh5.py - Line 1127 - W0212 (protected-access)

- `message: Access to a protected member _data of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1118:     def from_mpi_array(
  ...
  1125:         super(MemDatasetDistributed, self).__init__(**kwargs)
  1126:
> 1127:         self._data = data
  1128:         self._chunks = chunks
  1129:         self._compression = compression
```


## File caput/memh5.py - Line 1128 - W0212 (protected-access)

- `message: Access to a protected member _chunks of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1118:     def from_mpi_array(
  ...
  1126:
  1127:         self._data = data
> 1128:         self._chunks = chunks
  1129:         self._compression = compression
  1130:         self._compression_opts = compression_opts
```


## File caput/memh5.py - Line 1129 - W0212 (protected-access)

- `message: Access to a protected member _compression of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1118:     def from_mpi_array(
  ...
  1127:         self._data = data
  1128:         self._chunks = chunks
> 1129:         self._compression = compression
  1130:         self._compression_opts = compression_opts
  1131:         return self
```


## File caput/memh5.py - Line 1130 - W0212 (protected-access)

- `message: Access to a protected member _compression_opts of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1118:     def from_mpi_array(
  ...
  1128:         self._chunks = chunks
  1129:         self._compression = compression
> 1130:         self._compression_opts = compression_opts
  1131:         return self
  1132:
```


## File caput/memh5.py - Line 1200 - W0212 (protected-access)

- `message: Access to a protected member _comm of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1198:     def comm(self):
  1199:         """Reference to the MPI communicator."""
> 1200:         return self._data._comm
  1201:
  1202:     def redistribute(self, axis):
```


## File caput/memh5.py - Line 1575 - W0212 (protected-access)

- `message: Access to a protected member _finish_setup of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1469:     def from_file(
  ...
  1573:
  1574:         # ... skip the class initialisation, and use a special method
> 1575:         self._finish_setup()
  1576:
  1577:         self._toclose = toclose
```


## File caput/memh5.py - Line 1577 - W0212 (protected-access)

- `message: Access to a protected member _toclose of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1469:     def from_file(
  ...
  1575:         self._finish_setup()
  1576:
> 1577:         self._toclose = toclose
  1578:         return self
  1579:
```


## File caput/memh5.py - Line 1697 - W0212 (protected-access)

- `message: Access to a protected member _from_storage_root of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1689:     def create_group(self, name):
  ...
  1695:             raise ValueError(msg)
  1696:         self._data.create_group(path)
> 1697:         return self._group_class._from_storage_root(self._data, path)
  1698:
  1699:     def to_memory(self):
```


## File caput/memh5.py - Line 1969 - W0212 (protected-access)

- `message: Access to a protected member _storage_root of a client class`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1952:     def redistribute(self, dist_axis):
  ...
  1967:             dist_axis = [dist_axis]
  1968:
> 1969:         stack = list(self._data._storage_root.items())
  1970:
  1971:         # Crawl over the dataset tree and redistribute any matching datasets.
```


# W0221: arguments-differ

## File caput/mpiarray.py - Line 865 - W0221 (arguments-differ)

- `message: Parameters differ from overridden 'copy' method`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  236: class MPIArray(np.ndarray):
  ...
  863:         return rdata
  864:
> 865:     def copy(self):
  866:         """Return a copy of the MPIArray.
  867:
```


## File caput/pipeline.py - Line 1549 - W0221 (arguments-differ)

- `message: Parameters differ from overridden 'next' method`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1541: class Input(TaskBase):
  ...
  1547:         self._iter = None
  1548:
> 1549:     def next(self):
  1550:         """Pop and return the first element of inputs."""
  1551:
```


## File caput/pipeline.py - Line 1581 - W0221 (arguments-differ)

- `message: Parameters differ from overridden 'next' method`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1561: class Output(TaskBase):
  ...
  1579:         self.callback = callback
  1580:
> 1581:     def next(self, in_):
  1582:         """Pop and return the first element of inputs."""
  1583:
```


# W0223: abstract-method

## File caput/pipeline.py - Line 1247 - W0223 (abstract-method)

- `message: Method 'read_input' is abstract in class '_OneAndOne' but is not overridden`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1245:
  1246:
> 1247: class SingleBase(_OneAndOne):
  1248:     """Base class for non-iterating tasks with at most one input and output.
  1249:
```


## File caput/pipeline.py - Line 1247 - W0223 (abstract-method)

- `message: Method 'read_output' is abstract in class '_OneAndOne' but is not overridden`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1245:
  1246:
> 1247: class SingleBase(_OneAndOne):
  1248:     """Base class for non-iterating tasks with at most one input and output.
  1249:
```


## File caput/pipeline.py - Line 1247 - W0223 (abstract-method)

- `message: Method 'write_output' is abstract in class '_OneAndOne' but is not overridden`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1245:
  1246:
> 1247: class SingleBase(_OneAndOne):
  1248:     """Base class for non-iterating tasks with at most one input and output.
  1249:
```


## File caput/pipeline.py - Line 1302 - W0223 (abstract-method)

- `message: Method 'read_input' is abstract in class '_OneAndOne' but is not overridden`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1300:
  1301:
> 1302: class IterBase(_OneAndOne):
  1303:     """Base class for iterating tasks with at most one input and one output.
  1304:
```


## File caput/pipeline.py - Line 1302 - W0223 (abstract-method)

- `message: Method 'read_output' is abstract in class '_OneAndOne' but is not overridden`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1300:
  1301:
> 1302: class IterBase(_OneAndOne):
  1303:     """Base class for iterating tasks with at most one input and one output.
  1304:
```


## File caput/pipeline.py - Line 1302 - W0223 (abstract-method)

- `message: Method 'write_output' is abstract in class '_OneAndOne' but is not overridden`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1300:
  1301:
> 1302: class IterBase(_OneAndOne):
  1303:     """Base class for iterating tasks with at most one input and one output.
  1304:
```


# W0231: super-init-not-called

## File caput/pipeline.py - Line 1115 - W0231 (super-init-not-called)

- `message: __init__ method from base class 'TaskBase' is not called`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1105: class _OneAndOne(TaskBase):
  ...
  1113:     output_root = config.Property(default="None", proptype=str)
  1114:
> 1115:     def __init__(self):
  1116:         # Inspect the `process` method to see how many arguments it takes.
  1117:         pro_argspec = inspect.getfullargspec(self.process)
```


# W0511: fixme

## File caput/mpiutil.py - Line 198 - W0511 (fixme)

- `message: # TODO, other cases`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  196: #         # if they are just numpy data buffer
  197: #         recvbuf = sendbuf.copy()
> 198: #         # TODO, other cases
  199:
  200:
```


## File caput/misc.py - Line 318 - W0511 (fixme)

- `message: TODO: remove this. This was to support a patching of this routine to support Python 2`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  316:
  317:
> 318: # TODO: remove this. This was to support a patching of this routine to support Python 2
  319: # that used to exist in here. This will be removed when all other repos are changed to
  320: # use the version from `inspect`
```


## File caput/tod.py - Line 552 - W0511 (fixme)

- `message: XXX Do something more sophisticated here when/if we aren't getting`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  533: def _copy_non_time_data(
  ...
  550:
  551:     if isinstance(data, list):
> 552:         # XXX Do something more sophisticated here when/if we aren't getting
  553:         # all our non-time dependant information from the first entry.
  554:         data = data[0]
```


## File caput/tod.py - Line 563 - W0511 (fixme)

- `message: XXX exclude index map and reverse map.`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  533: def _copy_non_time_data(
  ...
  561:     for key, entry in data.items():
  562:         if key in ["index_map", "reverse_map"]:
> 563:             # XXX exclude index map and reverse map.
  564:             continue
  565:         if memh5.is_group(entry):
```


## File caput/tod.py - Line 597 - W0511 (fixme)

- `message: XXX andata still calls these.`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  595:
  596:
> 597: # XXX andata still calls these.
  598:
  599:
```


## File caput/memh5.py - Line 624 - W0511 (fixme)

- `message: XXX In future could accept extra arguments and use them if`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  566:     def create_dataset(
  ...
  622:             )
  623:             raise TypeError(msg)
> 624:             # XXX In future could accept extra arguments and use them if
  625:             # writing to disk.
  626:
```


## File caput/mpiarray.py - Line 635 - W0511 (fixme)

- `message: TODO: with tuning this might not be true. Keep an eye on this.`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  610:     def from_hdf5(cls, f, dataset, comm=None, axis=0, sel=None):
  ...
  633:         """
  634:         # Don't bother using MPI where the axis is not zero. It's probably just slower.
> 635:         # TODO: with tuning this might not be true. Keep an eye on this.
  636:         use_mpi = axis > 0
  637:
```


## File caput/mpiarray.py - Line 684 - W0511 (fixme)

- `message: TODO: do we need collective IO to read chunked data?`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  610:     def from_hdf5(cls, f, dataset, comm=None, axis=0, sel=None):
  ...
  682:         # TODO: change if h5py bug fixed
  683:         # TODO: better would be a test on contiguous IO size
> 684:         # TODO: do we need collective IO to read chunked data?
  685:         use_collective = fh.is_mpi and no_null_slices and axis > 0
  686:
```


## File caput/time.py - Line 704 - W0511 (fixme)

- `message: TODO: I'm surprised there isn't a better way to do this. Needing to convert via a`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  691: def skyfield_time_to_unix(skyfield_time):
  ...
  702:         UNIX time.
  703:     """
> 704:     # TODO: I'm surprised there isn't a better way to do this. Needing to convert via a
  705:     # datetime isn't great, but the only other ways I think can do it use private
  706:     # routines
```


## File caput/mpiarray.py - Line 755 - W0511 (fixme)

- `message: TODO: change if h5py bug fixed`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  702:     def to_hdf5(
  ...
  753:         #   collective IO which is usually slow
  754:         # - unless we want to use compression/chunking
> 755:         # TODO: change if h5py bug fixed
  756:         # TODO: better would be a test on contiguous IO size
  757:         use_collective = (
```


## File caput/mpiarray.py - Line 756 - W0511 (fixme)

- `message: TODO: better would be a test on contiguous IO size`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  702:     def to_hdf5(
  ...
  754:         # - unless we want to use compression/chunking
  755:         # TODO: change if h5py bug fixed
> 756:         # TODO: better would be a test on contiguous IO size
  757:         use_collective = (
  758:             fh.is_mpi and no_null_slices and (self.axis > 0 or compression is not None)
```


## File caput/pipeline.py - Line 1445 - W0511 (fixme)

- `message: XXX This can be made much more efficient using a direct copy.`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1407:     def write_output(self, filename, output):
  ...
  1443:             else:
  1444:                 # Copy to memory then to disk
> 1445:                 # XXX This can be made much more efficient using a direct copy.
  1446:                 out_copy = memh5.MemGroup.from_hdf5(output)
  1447:
```


## File caput/pipeline.py - Line 1464 - W0511 (fixme)

- `message: TODO, implement reading on disk (i.e. no copy to memory).`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1453: class BasicContMixin:
  ...
  1462:     """
  1463:
> 1464:     # TODO, implement reading on disk (i.e. no copy to memory).
  1465:     # ondisk = config.Property(default=False, proptype=bool)
  1466:
```


## File caput/memh5.py - Line 1837 - W0511 (fixme)

- `message: TODO: this seems like a trememndous hack. I've changed it to a safer version of`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1809:     def history(self):
  ...
  1835:             out[name] = value
  1836:
> 1837:         # TODO: this seems like a trememndous hack. I've changed it to a safer version of
  1838:         # eval, but this should probably be removed
  1839:         out["order"] = literal_eval(
```


# W0603: global-statement

## File caput/time.py - Line 971 - W0603 (global-statement)

- `message: Using the global statement`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  951: def naive_datetime_to_utc(dt):
  ...
  969:             dt = dt.replace(tzinfo=utc)
  970:     except ImportError:
> 971:         global _warned_utc_datetime
  972:
  973:         if not _warned_utc_datetime:
```


# W0613: unused-argument

## File caput/misc.py - Line 146 - W0613 (unused-argument)

- `message: Unused argument 'base_kwargs'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  144:
  145:
> 146: def listize(**base_kwargs):
  147:     """Make functions that already work with `np.ndarray` or scalars accept lists.
  148:
```


## File caput/memh5.py - Line 484 - W0613 (unused-argument)

- `message: Unused argument 'hints'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  480:     def to_hdf5(
  ...
  482:         filename,
  483:         mode="w",
> 484:         hints=True,
  485:         convert_attribute_strings=True,
  486:         convert_dataset_strings=False,
```


## File caput/mpiutil.py - Line 683 - W0613 (unused-argument)

- `message: Unused argument 'baked_args'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  680: class SelfWrapper(ModuleType):
  ...
  681:     """A thin wrapper around THIS module (`we patch sys.modules[__name__]`)."""
  682:
> 683:     def __init__(self, self_module, baked_args=None):
  684:         for attr in [
  685:             "__file__",
```


## File caput/memh5.py - Line 1448 - W0613 (unused-argument)

- `message: Unused argument 'sel_args'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1253: class MemDiskGroup(_BaseGroup):
  ...
  1446:
  1447:     @classmethod
> 1448:     def _make_selections(cls, sel_args):
  1449:         """
  1450:         Overwrite this method in your subclass if you want to implement downselection
```


## File caput/memh5.py - Line 1582 - W0613 (unused-argument)

- `message: Unused argument 'name'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1253: class MemDiskGroup(_BaseGroup):
  ...
  1580:     # Methods for manipulating and building the class. #
  1581:
> 1582:     def group_name_allowed(self, name):
  1583:         """Used by subclasses to restrict creation of and access to groups.
  1584:
```


## File caput/memh5.py - Line 1606 - W0613 (unused-argument)

- `message: Unused argument 'name'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1253: class MemDiskGroup(_BaseGroup):
  ...
  1604:         return True
  1605:
> 1606:     def dataset_name_allowed(self, name):
  1607:         """Used by subclasses to restrict creation of and access to datasets.
  1608:
```


## File caput/memh5.py - Line 2405 - W0613 (unused-argument)

- `message: Unused argument 'kwargs'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  2403:
  2404: def _distributed_group_to_hdf5_parallel(
> 2405:     group,
  2406:     fname,
  2407:     mode,
```


## File caput/memh5.py - Line 2505 - W0613 (unused-argument)

- `message: Unused argument 'hints'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  2502: def _distributed_group_from_hdf5(
  ...
  2503:     fname,
  2504:     comm=None,
> 2505:     hints=True,
  2506:     convert_dataset_strings=False,
  2507:     convert_attribute_strings=True,
```


# W0621: redefined-outer-name

## File caput/tests/test_selection.py - Line 30 - W0621 (redefined-outer-name)

- `message: Redefining name 'container_on_disk' from outer scope (line 16)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  28:
  29:
> 30: def test_H5FileSelect(container_on_disk):
  31:     """Tests that makes hdf5 objects and tests selecting on their axes."""
  32:
```


## File caput/tests/test_selection_parallel.py - Line 48 - W0621 (redefined-outer-name)

- `message: Redefining name 'container_on_disk' from outer scope (line 20)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  46: @pytest.mark.parametrize("fsel", [slice(1, 8, 2), slice(5, 8, 2)])
  47: @pytest.mark.parametrize("isel", [slice(1, 4), slice(5, 8, 2)])
> 48: def test_H5FileSelect_distributed(container_on_disk, fsel, isel):
  49:     """Load H5 into parallel container while down-selecting axes."""
  50:
```


## File caput/tests/test_lint.py - Line 55 - W0621 (redefined-outer-name)

- `message: Redefining name 'simple_config' from outer scope (line 21)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  53:
  54:
> 55: def test_load_yaml(simple_config):
  56:     test_runner = CliRunner()
  57:     config_file = write_to_file(simple_config)
```


## File caput/tests/test_lint.py - Line 62 - W0621 (redefined-outer-name)

- `message: Redefining name 'simple_config' from outer scope (line 21)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  60:
  61:
> 62: def test_unknown_task(simple_config):
  63:     test_runner = CliRunner()
  64:     simple_config["pipeline"]["tasks"][0]["type"] = "what.was.the.name.of.my.Task"
```


## File caput/mpiutil.py - Line 70 - W0621 (redefined-outer-name)

- `message: Redefining name 'self' from outer scope (line 708)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  68:
  69: class _close_message:
> 70:     def __repr__(self):
  71:         return "<Close message>"
  72:
```


## File caput/tests/test_lint.py - Line 70 - W0621 (redefined-outer-name)

- `message: Redefining name 'simple_config' from outer scope (line 21)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  68:
  69:
> 70: def test_wrong_type(simple_config):
  71:     test_runner = CliRunner()
  72:     simple_config["pipeline"]["tasks"][2]["params"]["a_list"] = 1
```


## File caput/tests/test_lint.py - Line 78 - W0621 (redefined-outer-name)

- `message: Redefining name 'simple_config' from outer scope (line 21)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  76:
  77:
> 78: def test_lonely_in(simple_config):
  79:     test_runner = CliRunner()
  80:     simple_config["pipeline"]["tasks"][2]["in"] = "foo"
```


## File caput/tests/test_lint.py - Line 86 - W0621 (redefined-outer-name)

- `message: Redefining name 'simple_config' from outer scope (line 21)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  84:
  85:
> 86: def test_lonely_requires(simple_config):
  87:     test_runner = CliRunner()
  88:     simple_config["pipeline"]["tasks"][2]["requires"] = "bar"
```


## File caput/mpiutil.py - Line 144 - W0621 (redefined-outer-name)

- `message: Redefining name 'rank' from outer scope (line 27)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  141: def partition_list_mpi(full_list, method="con", comm=_comm):
  ...
  142:     """Return the partition of a list specific to the current MPI process."""
  143:     if comm is not None:
> 144:         rank = comm.rank
  145:         size = comm.size
  146:
```


## File caput/mpiutil.py - Line 145 - W0621 (redefined-outer-name)

- `message: Redefining name 'size' from outer scope (line 28)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  141: def partition_list_mpi(full_list, method="con", comm=_comm):
  ...
  143:     if comm is not None:
  144:         rank = comm.rank
> 145:         size = comm.size
  146:
  147:     return partition_list(full_list, rank, size, method=method)
```


## File caput/_version.py - Line 233 - W0621 (redefined-outer-name)

- `message: Redefining name 'run_command' from outer scope (line 71)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  231:
  232: @register_vcs_handler("git", "pieces_from_vcs")
> 233: def git_pieces_from_vcs(tag_prefix, root, verbose, run_command=run_command):
  234:     """Get version from 'git describe' in the root of the source tree.
  235:
```


## File caput/tests/test_time.py - Line 401 - W0621 (redefined-outer-name)

- `message: Redefining name 'chime' from outer scope (line 391)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  399:
  400:
> 401: def test_transit_times(chime, eph):
  402:     # Routines to test the transit time calculations
  403:
```


## File caput/tests/test_time.py - Line 401 - W0621 (redefined-outer-name)

- `message: Redefining name 'eph' from outer scope (line 397)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  399:
  400:
> 401: def test_transit_times(chime, eph):
  402:     # Routines to test the transit time calculations
  403:
```


## File caput/tests/test_time.py - Line 433 - W0621 (redefined-outer-name)

- `message: Redefining name 'chime' from outer scope (line 391)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  431:
  432:
> 433: def test_rise_set_times(chime, eph):
  434:
  435:     dts = datetime(2020, 11, 5)
```


## File caput/tests/test_time.py - Line 433 - W0621 (redefined-outer-name)

- `message: Redefining name 'eph' from outer scope (line 397)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  431:
  432:
> 433: def test_rise_set_times(chime, eph):
  434:
  435:     dts = datetime(2020, 11, 5)
```


## File caput/mpiutil.py - Line 629 - W0621 (redefined-outer-name)

- `message: Redefining name 'size' from outer scope (line 28)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  627:
  628:
> 629: def lock_and_write_buffer(obj, fname, offset, size):
  630:     """Write the contents of a buffer to disk at a given offset, and explicitly
  631:     lock the region of the file whilst doing so.
```


## File caput/mpiutil.py - Line 683 - W0621 (redefined-outer-name)

- `message: Redefining name 'self' from outer scope (line 708)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  680: class SelfWrapper(ModuleType):
  ...
  681:     """A thin wrapper around THIS module (`we patch sys.modules[__name__]`)."""
  682:
> 683:     def __init__(self, self_module, baked_args=None):
  684:         for attr in [
  685:             "__file__",
```


## File caput/mpiutil.py - Line 696 - W0621 (redefined-outer-name)

- `message: Redefining name 'self' from outer scope (line 708)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  680: class SelfWrapper(ModuleType):
  ...
  694:         self.self_module = self_module
  695:
> 696:     def __getattr__(self, name):
  697:         if name in globals():
  698:             return globals()[name]
```


## File caput/mpiutil.py - Line 704 - W0621 (redefined-outer-name)

- `message: Redefining name 'self' from outer scope (line 708)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  680: class SelfWrapper(ModuleType):
  ...
  702:             raise AttributeError("module 'mpiutil' has no attribute '%s'" % name)
  703:
> 704:     def __call__(self, **kwargs):
  705:         return SelfWrapper(self.self_module, kwargs)
  706:
```


## File caput/pipeline.py - Line 904 - W0621 (redefined-outer-name)

- `message: Redefining name 'config' from outer scope (line 354)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  796: class TaskBase(config.Reader):
  ...
  902:
  903:     @classmethod
> 904:     def _from_config(cls, config):
  905:         self = cls.__new__(cls)
  906:         # Check for unused keys, but ignore the ones not put there by the user.
```


# W0622: redefined-builtin

## File caput/misc.py - Line 176 - W0622 (redefined-builtin)

- `message: Redefining built-in 'type'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  156:     class _listize_desc:
  ...
  174:             return self.func(*new_args, **kwargs)
  175:
> 176:         def __get__(self, obj, type=None):
  177:
  178:             # As a descriptor, this gets called whenever this is used to wrap a
```


## File caput/pipeline.py - Line 1124 - W0622 (redefined-builtin)

- `message: Redefining built-in 'input'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1105: class _OneAndOne(TaskBase):
  ...
  1122:             self._no_input = False
  1123:
> 1124:     def process(self, input):
  1125:         """Override this method with your data processing task."""
  1126:
```


## File caput/pipeline.py - Line 1186 - W0622 (redefined-builtin)

- `message: Redefining built-in 'input'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1105: class _OneAndOne(TaskBase):
  ...
  1184:                 raise config.CaputConfigError(msg)
  1185:
> 1186:     def read_process_write(self, input, input_filename, output_filename):
  1187:         """Reads input, executes any processing and writes output."""
  1188:
```


## File caput/pipeline.py - Line 1227 - W0622 (redefined-builtin)

- `message: Redefining built-in 'input'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1105: class _OneAndOne(TaskBase):
  ...
  1225:         raise NotImplementedError()
  1226:
> 1227:     def cast_input(self, input):
  1228:         """Override to support accepting pipeline inputs of variouse types."""
  1229:
```


## File caput/pipeline.py - Line 1351 - W0622 (redefined-builtin)

- `message: Redefining built-in 'input'`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1302: class IterBase(_OneAndOne):
  ...
  1349:         self.iteration = 0
  1350:
> 1351:     def next(self, input=None):
  1352:         """Should not need to override."""
  1353:
```


# W1113: keyword-arg-before-vararg

## File caput/mpiarray.py - Line 350 - W1113 (keyword-arg-before-vararg)

- `message: Keyword argument before variable positional arguments list in the definition of __new__ function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  236: class MPIArray(np.ndarray):
  ...
  348:         return self._comm
  349:
> 350:     def __new__(cls, global_shape, axis=0, comm=None, *args, **kwargs):
  351:
  352:         # if mpiutil.world is None:
```


# C0114: missing-module-docstring

## File caput/scripts/runner.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`


## File caput/tests/test_time.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`


## File caput/tests/test_metadata.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`


## File caput/tests/test_config.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`


## File caput/tests/test_lint.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`


# C0115: missing-class-docstring

## File caput/tests/test_metadata.py - Line 8 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   6:
   7:
>  8: class TestConfig(unittest.TestCase):
   9:     def test_default_params(self):
  10:         testconfig = """
```


## File caput/tests/test_config.py - Line 10 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   8:
   9: ### Test classes
> 10: class Person(config.Reader):
  11:     name = config.Property(default="Bill", proptype=str)
  12:     age = config.Property(default=26, proptype=float, key="ageinyears")
```


## File caput/tests/test_tod.py - Line 10 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   8:
   9:
> 10: class TestConcatenation(unittest.TestCase):
  11:     def setUp(self):
  12:
```


## File caput/tests/test_lint.py - Line 12 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  10:
  11:
> 12: class DoNothing(TaskBase):
  13:     pass
  14:
```


## File caput/tests/test_misc.py - Line 12 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  10:
  11:
> 12: class TestLock(unittest.TestCase):
  13:     def setUp(self):
  14:         self.dir = tempfile.mkdtemp()
```


## File caput/tests/test_config.py - Line 15 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  13:
  14:
> 15: class PersonWithPet(Person):
  16:     petname = config.Property(default="Molly", proptype=str)
  17:     petage = 36
```


## File caput/tests/test_mpiarray.py - Line 16 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  14:
  15:
> 16: class TestMPIArray(unittest.TestCase):
  17:     def test_construction(self):
  18:
```


## File caput/tests/test_lint.py - Line 16 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  14:
  15:
> 16: class DoNothing2(DoNothing):
  17:     a_list = Property(proptype=list)
  18:
```


## File caput/tests/test_config.py - Line 20 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  18:
  19:
> 20: class ListTypeTests(Person):
  21:     list_max_length = config.list_type(maxlength=2)
  22:     list_exact_length = config.list_type(length=2)
```


## File caput/tests/test_config.py - Line 26 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  24:
  25:
> 26: class DictTypeTests(config.Reader):
  27:     dict_config = config.Property(proptype=dict)
  28:
```


## File caput/tests/test_moving_weighted_median.py - Line 134 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  132:
  133:
> 134: class TestMWM(unittest.TestCase):
  135:     def test_the_test(self):
  136:         mwm = py_mwm_1d(
```


## File caput/tests/test_memh5_parallel.py - Line 142 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  140:
  141:
> 142: class TestMemDiskGroupDistributed(unittest.TestCase):
  143:
  144:     fname = "tmp_parallel_dg.h5"
```


## File caput/tests/test_memh5.py - Line 159 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  157:
  158:
> 159: class TempSubClass(memh5.MemDiskGroup):
  160:     pass
  161:
```


## File caput/tests/test_memh5.py - Line 163 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  161:
  162:
> 163: class TestMemDiskGroup(unittest.TestCase):
  164:
  165:     fname = "temp_mdg.h5"
```


## File caput/tests/test_memh5_parallel.py - Line 188 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  186:
  187:
> 188: class TestBasicCont(unittest.TestCase):
  189:     def test_redistribute(self):
  190:
```


## File caput/tests/test_memh5.py - Line 201 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  199:
  200:
> 201: class TestBasicCont(unittest.TestCase):
  202:     fname = "test_bc.h5"
  203:     history_dict = {"foo": {"bar": {"f": 23}, "foo": "bar"}, "bar": 0}
```


# C0116: missing-function-docstring

## File caput/tests/test_metadata.py - Line 9 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   7:
   8: class TestConfig(unittest.TestCase):
>  9:     def test_default_params(self):
  10:         testconfig = """
  11:         pipeline:
```


## File caput/ephemeris.py - Line 12 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  10:
  11:
> 12: def source_ha(obs, source, t):
  13:     time = _timescale.tt_jd(t)
  14:     lst = time.gast * 15 + obs.positives[-1].longitude.degrees
```


## File caput/tests/test_selection.py - Line 16 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T17:04:01`

```
  14:
  15: @pytest.fixture
> 16: def container_on_disk(datasets):
  17:     fname = "tmp_test_memh5_select.h5"
  18:     container = MemGroup()
```


## File caput/tests/test_mpiarray.py - Line 17 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  15:
  16: class TestMPIArray(unittest.TestCase):
> 17:     def test_construction(self):
  18:
  19:         arr = mpiarray.MPIArray((10, 11), axis=1)
```


## File caput/ephemeris.py - Line 20 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  18:
  19:
> 20: def source_alt(obs, source, t):
  21:     from skyfield.positionlib import _to_altaz
  22:
```


## File caput/tests/test_selection_parallel.py - Line 20 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T17:04:01`

```
  18:
  19: @pytest.fixture(scope="module")
> 20: def container_on_disk(datasets):
  21:
  22:     fname = "tmp_test_memh5_select_parallel.h5"
```


## File caput/tests/test_memh5.py - Line 21 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  18: class TestRODict(unittest.TestCase):
  ...
  19:     """Unit tests for ro_dict."""
  20:
> 21:     def test_everything(self):
  22:         a = {"a": 5}
  23:         a = memh5.ro_dict(a)
```


## File caput/tests/test_lint.py - Line 21 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  19:
  20: @pytest.fixture()
> 21: def simple_config():
  22:     yield {
  23:         "pipeline": {
```


## File caput/tests/test_memh5_parallel.py - Line 23 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  18: class TestMemGroupDistributed(unittest.TestCase):
  ...
  21:     fname = "tmp_test_memh5_distributed.h5"
  22:
> 23:     def test_create_dataset(self):
  24:
  25:         global_data = np.arange(size * 5 * 10, dtype=np.float32)
```


## File caput/tests/test_metadata.py - Line 28 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   8: class TestConfig(unittest.TestCase):
  ...
  26:         )
  27:
> 28:     def test_metadata_params(self):
  29:         testconfig = """
  30:         foo: bar
```


## File caput/tests/test_time.py - Line 32 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  30:
  31:
> 32: def test_epoch():
  33:
  34:     # At the J2000 epoch, sidereal time and transit RA should be the same.
```


## File caput/tests/test_mpiarray.py - Line 32 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  16: class TestMPIArray(unittest.TestCase):
  ...
  30:         assert arr.local_shape == (10, l)
  31:
> 32:     def test_redistribution(self):
  33:
  34:         gshape = (1, 11, 2, 14, 3, 4)
```


## File caput/tests/test_config.py - Line 35 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  33:
  34: ### Tests
> 35: def test_default_params():
  36:
  37:     person1 = Person()
```


## File caput/tests/test_tod.py - Line 38 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  10: class TestConcatenation(unittest.TestCase):
  ...
  36:         self.todlist = todlist
  37:
> 38:     def test_from_files(self):
  39:
  40:         data = tod.TOData.from_mult_files(self.todlist)
```


## File caput/tests/test_memh5.py - Line 39 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: class TestGroup(unittest.TestCase):
  ...
  37:     """Unit tests for MemGroup."""
  38:
> 39:     def test_nested(self):
  40:         root = memh5.MemGroup()
  41:         l1 = root.create_group("level1")
```


## File caput/tests/test_config.py - Line 44 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  42:
  43:
> 44: def test_set_params():
  45:
  46:     person = Person()
```


## File caput/tests/test_memh5.py - Line 47 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: class TestGroup(unittest.TestCase):
  ...
  45:         self.assertEqual(root["level1/level2"].name, "/level1/level2")
  46:
> 47:     def test_create_dataset(self):
  48:         g = memh5.MemGroup()
  49:         data = np.arange(100, dtype=np.float32)
```


## File caput/tests/test_lint.py - Line 48 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  46:
  47:
> 48: def write_to_file(config_json):
  49:     temp = tempfile.NamedTemporaryFile(mode="w+t", delete=False)
  50:     yaml.safe_dump(config_json, temp, encoding="utf-8")
```


## File caput/tests/test_tod.py - Line 49 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  10: class TestConcatenation(unittest.TestCase):
  ...
  47:         self.assertEqual(data["dset1"].shape, (self.nchan, self.ntime))
  48:
> 49:     def test_reader(self):
  50:
  51:         reader = tod.Reader(self.todlist)
```


## File caput/mpiutil.py - Line 51 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  49:     rank0 = rank == 0
  50:
> 51:     def mpi_excepthook(exc_type, exc_obj, exc_tb):
  52:
  53:         # Run the standard exception handler, but try to ensure the output if flushed out before
```


## File caput/tests/test_mpiarray.py - Line 51 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  16: class TestMPIArray(unittest.TestCase):
  ...
  49:         assert (arr3 == garr[:, :, :, :, :, s2:e2]).view(np.ndarray).all()
  50:
> 51:     def test_gather(self):
  52:
  53:         rank = mpiutil.rank
```


## File caput/tests/test_config.py - Line 52 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  50:
  51:
> 52: def test_read_config():
  53:
  54:     person = Person()
```


## File caput/tests/test_time.py - Line 53 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  51:
  52:
> 53: def test_transit_array():
  54:     # Do a simple test of transit_RA in an array. Use the fact that the RA
  55:     # advances predictably to predict the answers
```


## File caput/tests/test_memh5.py - Line 53 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: class TestGroup(unittest.TestCase):
  ...
  51:         self.assertTrue(np.allclose(data, g["data"]))
  52:
> 53:     def test_recursive_create(self):
  54:         g = memh5.MemGroup()
  55:         self.assertRaises(ValueError, g.create_group, "")
```


## File caput/tests/test_metadata.py - Line 55 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   8: class TestConfig(unittest.TestCase):
  ...
  53:         )
  54:
> 55:     def test_metadata_params_no_config(self):
  56:         testconfig = """
  57:         pipeline:
```


## File caput/tests/test_lint.py - Line 55 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  53:
  54:
> 55: def test_load_yaml(simple_config):
  56:     test_runner = CliRunner()
  57:     config_file = write_to_file(simple_config)
```


## File caput/tests/test_memh5_parallel.py - Line 59 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  18: class TestMemGroupDistributed(unittest.TestCase):
  ...
  57:         self.assertTrue((g["data"][rank * 5] == local_data[0]).all())
  58:
> 59:     def test_io(self):
  60:
  61:         # Create distributed memh5 object
```


## File caput/tests/test_config.py - Line 61 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  59:
  60:
> 61: def test_inherit_read_config():
  62:
  63:     person = PersonWithPet()
```


## File caput/tests/test_lint.py - Line 62 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  60:
  61:
> 62: def test_unknown_task(simple_config):
  63:     test_runner = CliRunner()
  64:     simple_config["pipeline"]["tasks"][0]["type"] = "what.was.the.name.of.my.Task"
```


## File caput/tests/test_memh5.py - Line 64 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  36: class TestGroup(unittest.TestCase):
  ...
  62:         self.assertEqual(gd.name, "/a/b/c/d")
  63:
> 64:     def test_recursive_create_dataset(self):
  65:         g = memh5.MemGroup()
  66:         data = np.arange(10)
```


## File caput/tests/test_tod.py - Line 66 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  10: class TestConcatenation(unittest.TestCase):
  ...
  64:         self.assertEqual(list(data.keys()), ["dset1"])
  65:
> 66:     def test_reader_time_range(self):
  67:
  68:         reader = tod.Reader(self.todlist)
```


## File caput/tests/test_lint.py - Line 70 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  68:
  69:
> 70: def test_wrong_type(simple_config):
  71:     test_runner = CliRunner()
  72:     simple_config["pipeline"]["tasks"][2]["params"]["a_list"] = 1
```


## File caput/tests/test_config.py - Line 71 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  69:
  70:
> 71: def test_pickle():
  72:
  73:     person = PersonWithPet()
```


## File caput/tests/test_mpiarray.py - Line 74 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  16: class TestMPIArray(unittest.TestCase):
  ...
  72:             assert ga is None
  73:
> 74:     def test_wrap(self):
  75:
  76:         ds = mpiarray.MPIArray((10, 17))
```


## File caput/tests/test_lint.py - Line 78 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  76:
  77:
> 78: def test_lonely_in(simple_config):
  79:     test_runner = CliRunner()
  80:     simple_config["pipeline"]["tasks"][2]["in"] = "foo"
```


## File caput/tests/test_time.py - Line 81 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  79:
  80:
> 81: def test_delta():
  82:
  83:     delta = np.arange(0, 200000, 1000)  # Seconds.
```


## File caput/tests/test_config.py - Line 82 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  80:
  81:
> 82: def test_list_type():
  83:
  84:     lt = ListTypeTests()
```


## File caput/tests/test_lint.py - Line 86 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  84:
  85:
> 86: def test_lonely_requires(simple_config):
  87:     test_runner = CliRunner()
  88:     simple_config["pipeline"]["tasks"][2]["requires"] = "bar"
```


## File caput/tests/test_memh5.py - Line 95 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  81: class TestH5Files(unittest.TestCase):
  ...
  93:             l2.attrs["small"] = np.arange(3)
  94:
> 95:     def assertGroupsEqual(self, a, b):
  96:         self.assertEqual(list(a.keys()), list(b.keys()))
  97:         self.assertAttrsEqual(a.attrs, b.attrs)
```


## File caput/tests/test_mpiarray.py - Line 98 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
   96:                 mpiarray.MPIArray.wrap(df, axis=0)
   97:
>  98:     def test_io(self):
   99:
  100:         import h5py
```


## File caput/tests/test_memh5.py - Line 107 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   81: class TestH5Files(unittest.TestCase):
  ...
  105:                 self.assertGroupsEqual(this_a, this_b)
  106:
> 107:     def assertAttrsEqual(self, a, b):
  108:         self.assertEqual(list(a.keys()), list(b.keys()))
  109:         for key in a.keys():
```


## File caput/tests/test_config.py - Line 108 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  106:
  107:
> 108: def test_no_line():
  109:     # This tests that dicts get set as config parameters as expected, and covers a flaw
  110:     # in an earlier version of the linting code where `__line__` keys were getting
```


## File caput/tests/test_time.py - Line 111 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  109:
  110:
> 111: def test_lsa_skyfield():
  112:     # Check an lsa calculated by caput.time against one calculated by PyEphem
  113:
```


## File caput/tests/test_memh5.py - Line 117 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   81: class TestH5Files(unittest.TestCase):
  ...
  115:                 self.assertEqual(this_a, this_b)
  116:
> 117:     def test_h5_sanity(self):
  118:         with h5py.File(self.fname, "r") as f:
  119:             self.assertGroupsEqual(f, f)
```


## File caput/tests/test_time.py - Line 127 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  125:
  126:
> 127: def test_lsa_tra():
  128:     # Near the epoch transit RA and LRA should be extremely close
  129:
```


## File caput/tests/test_memh5.py - Line 134 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   81: class TestH5Files(unittest.TestCase):
  ...
  132:             self.assertGroupsEqual(f, m)
  133:
> 134:     def test_memdisk(self):
  135:         f = memh5.MemDiskGroup(self.fname)
  136:         self.assertEqual(set(f.keys()), set(f._data.keys()))
```


## File caput/tests/test_moving_weighted_median.py - Line 135 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  133:
  134: class TestMWM(unittest.TestCase):
> 135:     def test_the_test(self):
  136:         mwm = py_mwm_1d(
  137:             values=[1, 2, 3, 4, 5, 6, 7, 8], weights=[1, 2, 3, 4, 5, 6, 7, 8], size=3
```


## File caput/tests/test_time.py - Line 140 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  138:
  139:
> 140: def test_reverse_lsa():
  141:     # Check that the lsa_to_unix routine correctly inverts a call to
  142:     # unix_to_lsa
```


## File caput/tests/test_memh5_parallel.py - Line 146 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  142: class TestMemDiskGroupDistributed(unittest.TestCase):
  ...
  144:     fname = "tmp_parallel_dg.h5"
  145:
> 146:     def test_misc(self):
  147:
  148:         dg = memh5.MemDiskGroup(distributed=True)
```


## File caput/tests/test_moving_weighted_median.py - Line 148 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  146:         assert py_weighted_median([1, 3, 3, 7], [0, 7, 7, 0]) == 3
  147:
> 148:     def test_the_nd_test(self):
  149:
  150:         # 2D
```


## File caput/tests/test_moving_weighted_median.py - Line 157 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  155:         )
  156:
> 157:     def test_wm(self):
  158:
  159:         # As we return the same type as the input, the split median will get rounded down
```


## File caput/tests/test_time.py - Line 158 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  156:
  157:
> 158: def test_lsa_array():
  159:
  160:     dt = datetime(2000, 1, 1, 12, 0, 0)
```


## File caput/mpiutil.py - Line 164 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  162:
  163:
> 164: def barrier(comm=_comm):
  165:     if comm is not None and comm.size > 1:
  166:         comm.Barrier()
```


## File caput/tests/test_memh5.py - Line 167 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  163: class TestMemDiskGroup(unittest.TestCase):
  ...
  165:     fname = "temp_mdg.h5"
  166:
> 167:     def test_io(self):
  168:
  169:         # Save a subclass of MemDiskGroup
```


## File caput/mpiutil.py - Line 169 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  167:
  168:
> 169: def bcast(data, root=0, comm=_comm):
  170:     if comm is not None and comm.size > 1:
  171:         return comm.bcast(data, root=root)
```


## File caput/tests/test_mpiarray.py - Line 172 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
  170:             os.remove(fname)
  171:
> 172:     def test_transpose(self):
  173:
  174:         gshape = (1, 11, 2, 14)
```


## File caput/mpiutil.py - Line 176 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  174:
  175:
> 176: def allreduce(sendobj, op=None, comm=_comm):
  177:     if comm is not None and comm.size > 1:
  178:         return comm.allreduce(sendobj, op=(op or MPI.SUM))
```


## File caput/tests/test_memh5_parallel.py - Line 189 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  187:
  188: class TestBasicCont(unittest.TestCase):
> 189:     def test_redistribute(self):
  190:
  191:         g = memh5.BasicCont(distributed=True)
```


## File caput/tests/test_time.py - Line 205 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  203:
  204:
> 205: def test_lsd_array():
  206:
  207:     dt = datetime(2025, 1, 1, 12, 0, 0)
```


## File caput/tests/test_memh5.py - Line 212 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  201: class TestBasicCont(unittest.TestCase):
  ...
  210:         d.to_disk(self.fname)
  211:
> 212:     def test_access(self):
  213:         d = memh5.BasicCont.from_file(self.fname)
  214:         self.assertTrue("history" in d._data)
```


## File caput/tests/test_memh5.py - Line 224 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  201: class TestBasicCont(unittest.TestCase):
  ...
  222:         )
  223:
> 224:     def test_history(self):
  225:         # Check HDF5 file for config- and versiondump
  226:         with h5py.File(self.fname, "r") as f:
```


## File caput/tests/test_moving_weighted_median.py - Line 225 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  223:         )
  224:
> 225:     def test_weighted_median_methods(self):
  226:         # Note this test
  227:         values = np.array([9, 2, 5, 5, 2, 9])
```


## File caput/tests/test_time.py - Line 230 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  228:
  229:
> 230: def test_era_accuracy():
  231:
  232:     # Pick a time to check the ERA around
```


## File caput/tests/test_moving_weighted_median.py - Line 232 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  230:         np.testing.assert_equal(weighted_median(values, weights, method="higher"), 5)
  231:
> 232:     def test_1d_mwm_int(self):
  233:         values = [0, 0, 7, 0, 9, 42, 0, 1, 9, 1]
  234:         weights = [0, 7, 1, 23, 0, 4, 7, 8, 9, 0]
```


## File caput/tests/test_mpiarray.py - Line 233 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
  231:         assert arr4.axis == 2
  232:
> 233:     def test_reshape(self):
  234:
  235:         gshape = (1, 11, 2, 14)
```


## File caput/tests/test_moving_weighted_median.py - Line 239 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  237:         )
  238:
> 239:     def test_1d_mwm(self):
  240:         values = [0.1, 0, 7.7, 0, 9.999, 42, 0, 1, 9, 1]
  241:         weights = [0, 7.5, 0.33, 23.23, 0, 4, 7, 8, 9, 0]
```


## File caput/tests/test_time.py - Line 244 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  242:
  243:
> 244: def test_datetime_to_string():
  245:     dt = datetime(2014, 4, 21, 16, 33, 12, 12356)
  246:     fdt = ctime.datetime_to_timestr(dt)
```


## File caput/tests/test_moving_weighted_median.py - Line 247 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  245:
  246:     # These two are just for measuring performance:
> 247:     def test_1d_mwm_big(self):
  248:         N = 100
  249:         values = np.random.random_sample(N)
```


## File caput/tests/test_time.py - Line 250 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  248:
  249:
> 250: def test_string_to_datetime():
  251:     dt = ctime.timestr_to_datetime("20140421T163312Z_stone")
  252:     ans = datetime(2014, 4, 21, 16, 33, 12)
```


## File caput/tests/test_mpiarray.py - Line 258 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
  256:         assert arr2.axis == 0
  257:
> 258:     def test_global_getslice(self):
  259:
  260:         rank = mpiutil.rank
```


## File caput/tests/test_moving_weighted_median.py - Line 264 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  262:         )
  263:
> 264:     def test_2d_mwm_big(self):
  265:         N = 100
  266:         M = 100
```


## File caput/tests/test_moving_weighted_median.py - Line 279 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  277:         )
  278:
> 279:     def test_zero_weights(self):
  280:         values = [1, 1, 1]
  281:         weights = [0, 0, 0]
```


## File caput/tests/test_moving_weighted_median.py - Line 286 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  284:         )
  285:
> 286:     def test_2d_mwm_small(self):
  287:         values = [[9, 2], [5, 5], [2, 9]]
  288:         weights = [[3, 0], [5, 0], [8, 0]]
```


## File caput/tests/test_time.py - Line 294 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  292:
  293:
> 294: def test_datetime_to_unix():
  295:
  296:     unix_time = time.time()
```


## File caput/tests/test_memh5.py - Line 298 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  249: class TestUnicodeDataset(unittest.TestCase):
  ...
  296:         self.assertTrue((m["udata"].data == m3["sdata"].data).all())
  297:
> 298:     def test_failure(self):
  299:         # Test that we fail when trying to write a non ASCII character
  300:
```


## File caput/tests/test_time.py - Line 302 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  300:
  301:
> 302: def test_leap_seconds():
  303:     # 'test_' removed from name to deactivate the test untill this can be
  304:     # implemented.
```


## File caput/tests/test_moving_weighted_median.py - Line 317 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  315:         )
  316:
> 317:     def test_2d_mwm_small_large_window(self):
  318:         # Try a window that is much larger than the input array.
  319:         # This has caused crashes in older versions
```


## File caput/tests/test_time.py - Line 320 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  318:
  319:
> 320: def test_era_known():
  321:     # Check an ERA calculated by caput.time against one calculated by
  322:     # http://dc.zah.uni-heidelberg.de/apfs/times/q/form (note the latter
```


## File caput/tests/test_memh5.py - Line 320 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  315: class TestMapJSON(unittest.TestCase):
  ...
  318:     fname = "tmp_test_json.h5"
  319:
> 320:     def test_to_from_hdf5(self):
  321:         json_prefix = "!!_memh5_json:"
  322:         data = {"foo": {"bar": [1, 2, 3], "fu": "1"}}
```


## File caput/tests/test_moving_weighted_median.py - Line 340 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  338:         np.testing.assert_array_equal(cy_res, cy_res[0, 0])
  339:
> 340:     def test_2d_mwm_int(self):
  341:         values = np.asarray(np.random.randint(0, 10, (14, 8)), np.float64)
  342:         weights = np.asarray(np.random.randint(0, 10, (14, 8)), np.float64)
```


## File caput/tests/test_time.py - Line 343 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  341:
  342:
> 343: def test_era_inverse():
  344:
  345:     # Check a full forward/inverse cycle
```


## File caput/tests/test_moving_weighted_median.py - Line 348 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  346:         )
  347:
> 348:     def test_2d_mwm(self):
  349:         values = np.random.rand(14, 8)
  350:         weights = np.random.rand(14, 8)
```


## File caput/tests/test_mpiarray.py - Line 349 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
  347:         assert dslice.local_shape == (1, 136, 41)
  348:
> 349:     def test_global_setslice(self):
  350:
  351:         rank = mpiutil.rank
```


## File caput/tests/test_moving_weighted_median.py - Line 357 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  355:
  356:     # weights are all zeros for a region that is smaller than the window
> 357:     def test_small_zero_weight(self):
  358:
  359:         window = (3, 3)
```


## File caput/tests/test_time.py - Line 364 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  362:
  363:
> 364: def test_ensure_unix():
  365:     # Check that ensure_unix is doing its job for both scalar and array
  366:     # inputs
```


## File caput/tests/test_moving_weighted_median.py - Line 373 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  371:     # weights are all zeros for a region that is the size of the window, this has historically
  372:     # caused a segfault
> 373:     def test_med_zero_weight(self):
  374:
  375:         window = (3,)
```


## File caput/tests/test_time.py - Line 391 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  389:
  390: @pytest.fixture
> 391: def chime():
  392:     # Position from ch_util.ephemeris on 2020/11/09
  393:     return ctime.Observer(lon=-119.62, lat=49.32, alt=545.0)
```


## File caput/tests/test_time.py - Line 397 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  395:
  396: @pytest.fixture(scope="module")
> 397: def eph():
  398:     return ctime.skyfield_wrapper.ephemeris
  399:
```


## File caput/tests/test_time.py - Line 401 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  399:
  400:
> 401: def test_transit_times(chime, eph):
  402:     # Routines to test the transit time calculations
  403:
```


## File caput/tests/test_time.py - Line 433 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  431:
  432:
> 433: def test_rise_set_times(chime, eph):
  434:
  435:     dts = datetime(2020, 11, 5)
```


## File caput/memh5.py - Line 869 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  851: class MemDataset(_MemObjMixin):
  ...
  867:         return MemGroup
  868:
> 869:     def view(self):
  870:         cls = self.__class__
  871:         out = cls.__new__(cls)
```


## File caput/memh5.py - Line 891 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  851: class MemDataset(_MemObjMixin):
  ...
  889:         return self._attrs
  890:
> 891:     def resize(self):
  892:         # h5py datasets reshape() is different from numpy reshape.
  893:         msg = "Dataset reshaping not allowed. Perhapse make an new array view."
```


## File caput/memh5.py - Line 897 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  851: class MemDataset(_MemObjMixin):
  ...
  895:
  896:     @property
> 897:     def shape(self):
  898:         raise NotImplementedError("Not implemented in base class.")
  899:
```


## File caput/memh5.py - Line 901 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  851: class MemDataset(_MemObjMixin):
  ...
  899:
  900:     @property
> 901:     def dtype(self):
  902:         raise NotImplementedError("Not implemented in base class.")
  903:
```


## File caput/memh5.py - Line 905 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  851: class MemDataset(_MemObjMixin):
  ...
  903:
  904:     @property
> 905:     def chunks(self):
  906:         raise NotImplementedError("Not implemented in base class.")
  907:
```


## File caput/memh5.py - Line 909 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  851: class MemDataset(_MemObjMixin):
  ...
  907:
  908:     @property
> 909:     def compression(self):
  910:         raise NotImplementedError("Not implemented in base class.")
  911:
```


## File caput/memh5.py - Line 913 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  851: class MemDataset(_MemObjMixin):
  ...
  911:
  912:     @property
> 913:     def compression_opts(self):
  914:         raise NotImplementedError("Not implemented in base class.")
  915:
```


## File caput/memh5.py - Line 1118 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1116:
  1117:     @classmethod
> 1118:     def from_mpi_array(
  1119:         cls, data, chunks=None, compression=None, compression_opts=None, **kwargs
  1120:     ):
```


## File caput/memh5.py - Line 1134 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1132:
  1133:     @property
> 1134:     def common(self):
  1135:         return False
  1136:
```


## File caput/memh5.py - Line 1138 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1136:
  1137:     @property
> 1138:     def distributed(self):
  1139:         return True
  1140:
```


## File caput/memh5.py - Line 1142 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1140:
  1141:     @property
> 1142:     def data(self):
  1143:         return self._data
  1144:
```


## File caput/memh5.py - Line 1146 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1144:
  1145:     @property
> 1146:     def local_data(self):
  1147:         return self._data.local_array
  1148:
```


## File caput/memh5.py - Line 1154 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1152:
  1153:     @property
> 1154:     def global_shape(self):
  1155:         return self._data.global_shape
  1156:
```


## File caput/memh5.py - Line 1158 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1156:
  1157:     @property
> 1158:     def local_shape(self):
  1159:         return self._data.local_shape
  1160:
```


## File caput/memh5.py - Line 1162 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1160:
  1161:     @property
> 1162:     def local_offset(self):
  1163:         return self._data.local_offset
  1164:
```


## File caput/memh5.py - Line 1194 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1192:
  1193:     @property
> 1194:     def distributed_axis(self):
  1195:         return self._data.axis
  1196:
```


# C0302: too-many-lines

## File caput/mpiarray.py - Line 1 - C0302 (too-many-lines)

- `message: Too many lines in module (1148/1000)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
> 1: """
  2: An array class for containing MPI distributed array.
  3:
```


## File caput/time.py - Line 1 - C0302 (too-many-lines)

- `message: Too many lines in module (1196/1000)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
> 1: r"""
  2: Routines for calculation and of solar and sidereal times.
  3:
```


## File caput/pipeline.py - Line 1 - C0302 (too-many-lines)

- `message: Too many lines in module (1625/1000)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
> 1: """
  2: Data Analysis and Simulation Pipeline.
  3:
```


## File caput/memh5.py - Line 1 - C0302 (too-many-lines)

- `message: Too many lines in module (2845/1000)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
> 1: """
  2: Module for making in-memory mock-ups of :mod:`h5py` objects.
  3:
```


# C0411: wrong-import-order

## File caput/tests/test_misc.py - Line 7 - C0411 (wrong-import-order)

- `message: standard import "import shutil" should be placed before "import pytest"`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   5: import os
   6: import pytest
>  7: import shutil
   8:
   9: from caput import misc
```


# R0201: no-self-use

## File caput/tests/test_mpiarray.py - Line 17 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  15:
  16: class TestMPIArray(unittest.TestCase):
> 17:     def test_construction(self):
  18:
  19:         arr = mpiarray.MPIArray((10, 11), axis=1)
```


## File caput/tests/test_mpiarray.py - Line 32 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  16: class TestMPIArray(unittest.TestCase):
  ...
  30:         assert arr.local_shape == (10, l)
  31:
> 32:     def test_redistribution(self):
  33:
  34:         gshape = (1, 11, 2, 14, 3, 4)
```


## File caput/tests/test_mpiarray.py - Line 51 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  16: class TestMPIArray(unittest.TestCase):
  ...
  49:         assert (arr3 == garr[:, :, :, :, :, s2:e2]).view(np.ndarray).all()
  50:
> 51:     def test_gather(self):
  52:
  53:         rank = mpiutil.rank
```


## File caput/tests/test_mpiarray.py - Line 98 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
   96:                 mpiarray.MPIArray.wrap(df, axis=0)
   97:
>  98:     def test_io(self):
   99:
  100:         import h5py
```


## File caput/tests/test_moving_weighted_median.py - Line 135 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  133:
  134: class TestMWM(unittest.TestCase):
> 135:     def test_the_test(self):
  136:         mwm = py_mwm_1d(
  137:             values=[1, 2, 3, 4, 5, 6, 7, 8], weights=[1, 2, 3, 4, 5, 6, 7, 8], size=3
```


## File caput/tests/test_moving_weighted_median.py - Line 148 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  146:         assert py_weighted_median([1, 3, 3, 7], [0, 7, 7, 0]) == 3
  147:
> 148:     def test_the_nd_test(self):
  149:
  150:         # 2D
```


## File caput/tests/test_moving_weighted_median.py - Line 157 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  155:         )
  156:
> 157:     def test_wm(self):
  158:
  159:         # As we return the same type as the input, the split median will get rounded down
```


## File caput/tests/test_mpiarray.py - Line 172 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
  170:             os.remove(fname)
  171:
> 172:     def test_transpose(self):
  173:
  174:         gshape = (1, 11, 2, 14)
```


## File caput/tests/test_moving_weighted_median.py - Line 225 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  223:         )
  224:
> 225:     def test_weighted_median_methods(self):
  226:         # Note this test
  227:         values = np.array([9, 2, 5, 5, 2, 9])
```


## File caput/tests/test_moving_weighted_median.py - Line 232 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  230:         np.testing.assert_equal(weighted_median(values, weights, method="higher"), 5)
  231:
> 232:     def test_1d_mwm_int(self):
  233:         values = [0, 0, 7, 0, 9, 42, 0, 1, 9, 1]
  234:         weights = [0, 7, 1, 23, 0, 4, 7, 8, 9, 0]
```


## File caput/tests/test_mpiarray.py - Line 233 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
  231:         assert arr4.axis == 2
  232:
> 233:     def test_reshape(self):
  234:
  235:         gshape = (1, 11, 2, 14)
```


## File caput/tests/test_moving_weighted_median.py - Line 239 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  237:         )
  238:
> 239:     def test_1d_mwm(self):
  240:         values = [0.1, 0, 7.7, 0, 9.999, 42, 0, 1, 9, 1]
  241:         weights = [0, 7.5, 0.33, 23.23, 0, 4, 7, 8, 9, 0]
```


## File caput/tests/test_moving_weighted_median.py - Line 247 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  245:
  246:     # These two are just for measuring performance:
> 247:     def test_1d_mwm_big(self):
  248:         N = 100
  249:         values = np.random.random_sample(N)
```


## File caput/tests/test_mpiarray.py - Line 258 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
  256:         assert arr2.axis == 0
  257:
> 258:     def test_global_getslice(self):
  259:
  260:         rank = mpiutil.rank
```


## File caput/tests/test_moving_weighted_median.py - Line 264 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  262:         )
  263:
> 264:     def test_2d_mwm_big(self):
  265:         N = 100
  266:         M = 100
```


## File caput/tests/test_moving_weighted_median.py - Line 279 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  277:         )
  278:
> 279:     def test_zero_weights(self):
  280:         values = [1, 1, 1]
  281:         weights = [0, 0, 0]
```


## File caput/tests/test_moving_weighted_median.py - Line 286 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  284:         )
  285:
> 286:     def test_2d_mwm_small(self):
  287:         values = [[9, 2], [5, 5], [2, 9]]
  288:         weights = [[3, 0], [5, 0], [8, 0]]
```


## File caput/tests/test_moving_weighted_median.py - Line 317 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  315:         )
  316:
> 317:     def test_2d_mwm_small_large_window(self):
  318:         # Try a window that is much larger than the input array.
  319:         # This has caused crashes in older versions
```


## File caput/tests/test_moving_weighted_median.py - Line 340 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  338:         np.testing.assert_array_equal(cy_res, cy_res[0, 0])
  339:
> 340:     def test_2d_mwm_int(self):
  341:         values = np.asarray(np.random.randint(0, 10, (14, 8)), np.float64)
  342:         weights = np.asarray(np.random.randint(0, 10, (14, 8)), np.float64)
```


## File caput/tests/test_moving_weighted_median.py - Line 348 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  346:         )
  347:
> 348:     def test_2d_mwm(self):
  349:         values = np.random.rand(14, 8)
  350:         weights = np.random.rand(14, 8)
```


## File caput/tests/test_mpiarray.py - Line 349 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
  347:         assert dslice.local_shape == (1, 136, 41)
  348:
> 349:     def test_global_setslice(self):
  350:
  351:         rank = mpiutil.rank
```


## File caput/tests/test_moving_weighted_median.py - Line 357 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  355:
  356:     # weights are all zeros for a region that is smaller than the window
> 357:     def test_small_zero_weight(self):
  358:
  359:         window = (3, 3)
```


## File caput/tests/test_moving_weighted_median.py - Line 373 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  134: class TestMWM(unittest.TestCase):
  ...
  371:     # weights are all zeros for a region that is the size of the window, this has historically
  372:     # caused a segfault
> 373:     def test_med_zero_weight(self):
  374:
  375:         window = (3,)
```


## File caput/pipeline.py - Line 841 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  796: class TaskBase(config.Reader):
  ...
  839:         """Validate the task after instantiation."""
  840:
> 841:     def next(self, input=None):
  842:         """Iterative analysis stage of pipeline task.
  843:
```


## File caput/memh5.py - Line 891 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  851: class MemDataset(_MemObjMixin):
  ...
  889:         return self._attrs
  890:
> 891:     def resize(self):
  892:         # h5py datasets reshape() is different from numpy reshape.
  893:         msg = "Dataset reshaping not allowed. Perhapse make an new array view."
```


## File caput/pipeline.py - Line 1124 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1105: class _OneAndOne(TaskBase):
  ...
  1122:             self._no_input = False
  1123:
> 1124:     def process(self, input):
  1125:         """Override this method with your data processing task."""
  1126:
```


## File caput/pipeline.py - Line 1227 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1105: class _OneAndOne(TaskBase):
  ...
  1225:         raise NotImplementedError()
  1226:
> 1227:     def cast_input(self, input):
  1228:         """Override to support accepting pipeline inputs of variouse types."""
  1229:
```


## File caput/pipeline.py - Line 1392 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1378: class H5IOMixin:
  ...
  1390:     # ondisk = config.Property(default=False, proptype=bool)
  1391:
> 1392:     def read_input(self, filename):
  1393:         """Method for reading hdf5 input."""
  1394:
```


## File caput/pipeline.py - Line 1399 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1378: class H5IOMixin:
  ...
  1397:         return memh5.MemGroup.from_hdf5(filename, mode="r")
  1398:
> 1399:     def read_output(self, filename):
  1400:         """Method for reading hdf5 output (from caches)."""
  1401:
```


## File caput/pipeline.py - Line 1490 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1453: class BasicContMixin:
  ...
  1488:         )
  1489:
> 1490:     def write_output(self, filename, output):
  1491:         """Method for writing hdf5 output.
  1492:
```


## File caput/memh5.py - Line 1582 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1253: class MemDiskGroup(_BaseGroup):
  ...
  1580:     # Methods for manipulating and building the class. #
  1581:
> 1582:     def group_name_allowed(self, name):
  1583:         """Used by subclasses to restrict creation of and access to groups.
  1584:
```


## File caput/memh5.py - Line 1606 - R0201 (no-self-use)

- `message: Method could be a function`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1253: class MemDiskGroup(_BaseGroup):
  ...
  1604:         return True
  1605:
> 1606:     def dataset_name_allowed(self, name):
  1607:         """Used by subclasses to restrict creation of and access to datasets.
  1608:
```


# R0901: too-many-ancestors

## File caput/tod.py - Line 20 - R0901 (too-many-ancestors)

- `message: Too many ancestors (10/7)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  18:
  19:
> 20: class TOData(memh5.BasicCont):
  21:     """Time ordered data.
  22:
```


## File caput/tests/test_memh5.py - Line 159 - R0901 (too-many-ancestors)

- `message: Too many ancestors (9/7)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  157:
  158:
> 159: class TempSubClass(memh5.MemDiskGroup):
  160:     pass
  161:
```


## File caput/memh5.py - Line 358 - R0901 (too-many-ancestors)

- `message: Too many ancestors (8/7)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  356:
  357:
> 358: class MemGroup(_BaseGroup):
  359:     """
  360:     In memory implementation of the :class:`h5py.Group`.
```


## File caput/config.py - Line 492 - R0901 (too-many-ancestors)

- `message: Too many ancestors (10/7)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  490:
  491:
> 492: class SafeLineLoader(SafeLoader):
  493:     """
  494:     YAML loader that tracks line numbers.
```


## File caput/memh5.py - Line 1253 - R0901 (too-many-ancestors)

- `message: Too many ancestors (8/7)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1251:
  1252:
> 1253: class MemDiskGroup(_BaseGroup):
  1254:     """Container whose data may either be stored on disk or in memory.
  1255:
```


## File caput/memh5.py - Line 1778 - R0901 (too-many-ancestors)

- `message: Too many ancestors (9/7)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1776:
  1777:
> 1778: class BasicCont(MemDiskGroup):
  1779:     """Basic high level data container.
  1780:
```


# R0903: too-few-public-methods

## File caput/_version.py - Line 32 - R0903 (too-few-public-methods)

- `message: Too few public methods (0/2)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  30:
  31:
> 32: class VersioneerConfig:
  33:     """Container for Versioneer configuration parameters."""
  34:
```


## File caput/mpiutil.py - Line 69 - R0903 (too-few-public-methods)

- `message: Too few public methods (1/2)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  67:
  68:
> 69: class _close_message:
  70:     def __repr__(self):
  71:         return "<Close message>"
```


# R0912: too-many-branches

## File caput/mpiarray.py - Line 115 - R0912 (too-many-branches)

- `message: Too many branches (15/12)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  105: class _global_resolver:
  ...
  113:         self.length = array.global_shape[self.axis]
  114:
> 115:     def _resolve_slice(self, slobj):
  116:         # Transforms a numpy basic slice on the global arrays into a fully
  117:         # fleshed out slice tuple referencing the positions in the local arrays.
```


## File caput/scripts/runner.py - Line 175 - R0912 (too-many-branches)

- `message: Too many branches (18/12)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  115: def run(configfile, loglevel, profile, profiler):
  ...
  173: @click.option(
  174:     "--lint/--nolint",
> 175:     default=True,
  176:     help="Check the pipeline for errors before submitting it.",
  177: )
```


## File caput/tod.py - Line 248 - R0912 (too-many-branches)

- `message: Too many branches (37/12)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  246:
  247:
> 248: def concatenate(
  249:     data_list,
  250:     out_group=None,
```


## File caput/mpiarray.py - Line 452 - R0912 (too-many-branches)

- `message: Too many branches (15/12)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  236: class MPIArray(np.ndarray):
  ...
  450:         return dist_arr
  451:
> 452:     def redistribute(self, axis):
  453:         """Change the axis that the array is distributed over.
  454:
```


## File caput/memh5.py - Line 566 - R0912 (too-many-branches)

- `message: Too many branches (22/12)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  358: class MemGroup(_BaseGroup):
  ...
  564:         return self[name]
  565:
> 566:     def create_dataset(
  567:         self,
  568:         name,
```


## File caput/pipeline.py - Line 686 - R0912 (too-many-branches)

- `message: Too many branches (13/12)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  460: class Manager(config.Reader):
  ...
  684:                         )
  685:
> 686:     def _setup_task(self, task_spec):
  687:         """Set up a pipeline task from the spec given in the tasks list."""
  688:
```


## File caput/memh5.py - Line 2272 - R0912 (too-many-branches)

- `message: Too many branches (17/12)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  2270:
  2271:
> 2272: def _distributed_group_to_hdf5_serial(
  2273:     group,
  2274:     fname,
```


# R0913: too-many-arguments

## File caput/tod.py - Line 42 - R0913 (too-many-arguments)

- `message: Too many arguments (7/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  20: class TOData(memh5.BasicCont):
  ...
  40:
  41:     @classmethod
> 42:     def from_mult_files(
  43:         cls,
  44:         files,
```


## File caput/ephemeris.py - Line 46 - R0913 (too-many-arguments)

- `message: Too many arguments (7/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  44:
  45:
> 46: def source_transit(obs, source, t0, t1=None, step=0.2, lower=False, return_dec=False):
  47:     """Find the transit times of the given source in an interval.
  48:
```


## File caput/_version.py - Line 71 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  69:
  70:
> 71: def run_command(commands, args, cwd=None, verbose=False, hide_stderr=False, env=None):
  72:     """Call the given command(s)."""
  73:     assert isinstance(commands, list)
```


## File caput/interferometry.py - Line 79 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  77:
  78:
> 79: def projected_distance(ha, lat, dec, x, y, z=0.0):
  80:     """Return the distance project in the direction of a source.
  81:
```


## File caput/interferometry.py - Line 112 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  110:
  111:
> 112: def fringestop_phase(ha, lat, dec, u, v, w=0.0):
  113:     """Return the phase required to fringestop. All angle inputs are radians.
  114:
```


## File caput/ephemeris.py - Line 122 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  120:
  121:
> 122: def source_rise_set(obs, source, t0, t1=None, step=0.2, diameter=0.0):
  123:     """Find all times a sources rises or sets in an interval.
  124:
```


## File caput/time.py - Line 218 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  182: class Observer:
  ...
  216:     lsd_start_day = config.utc_time(default=datetime(2000, 1, 1, 11, 58, 56))
  217:
> 218:     def __init__(self, lon=0.0, lat=0.0, alt=0.0, lsd_start=None, sf_wrapper=None):
  219:
  220:         self.longitude = lon
```


## File caput/tod.py - Line 248 - R0913 (too-many-arguments)

- `message: Too many arguments (8/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  246:
  247:
> 248: def concatenate(
  249:     data_list,
  250:     out_group=None,
```


## File caput/memh5.py - Line 405 - R0913 (too-many-arguments)

- `message: Too many arguments (8/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  358: class MemGroup(_BaseGroup):
  ...
  403:
  404:     @classmethod
> 405:     def from_hdf5(
  406:         cls,
  407:         filename,
```


## File caput/time.py - Line 440 - R0913 (too-many-arguments)

- `message: Too many arguments (7/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  182: class Observer:
  ...
  438:         return ra
  439:
> 440:     def transit_times(
  441:         self, source, t0, t1=None, step=None, lower=False, return_dec=False
  442:     ):
```


## File caput/memh5.py - Line 480 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  358: class MemGroup(_BaseGroup):
  ...
  478:         return self
  479:
> 480:     def to_hdf5(
  481:         self,
  482:         filename,
```


## File caput/time.py - Line 510 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  182: class Observer:
  ...
  508:             return t_unix
  509:
> 510:     def rise_set_times(self, source, t0, t1=None, step=None, diameter=0.0):
  511:         """Find all times a sources rises or sets in an interval.
  512:
```


## File caput/time.py - Line 546 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  182: class Observer:
  ...
  544:         )
  545:
> 546:     def rise_times(self, source, t0, t1=None, step=None, diameter=0.0):
  547:         """Find all times a sources rises in an interval.
  548:
```


## File caput/memh5.py - Line 566 - R0913 (too-many-arguments)

- `message: Too many arguments (10/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  358: class MemGroup(_BaseGroup):
  ...
  564:         return self[name]
  565:
> 566:     def create_dataset(
  567:         self,
  568:         name,
```


## File caput/time.py - Line 578 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  182: class Observer:
  ...
  576:         )[0]
  577:
> 578:     def set_times(self, source, t0, t1=None, step=None, diameter=0.0):
  579:         """Find all times a sources sets in an interval.
  580:
```


## File caput/mpiarray.py - Line 610 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  236: class MPIArray(np.ndarray):
  ...
  608:
  609:     @classmethod
> 610:     def from_hdf5(cls, f, dataset, comm=None, axis=0, sel=None):
  611:         """Read MPIArray from an HDF5 dataset in parallel.
  612:
```


## File caput/time.py - Line 610 - R0913 (too-many-arguments)

- `message: Too many arguments (8/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  182: class Observer:
  ...
  608:         )[0]
  609:
> 610:     def _sr_work(self, source, t0, t1, step, diameter, skip_rise=False, skip_set=False):
  611:         # A work routine factoring out common functionality
  612:
```


## File caput/mpiarray.py - Line 702 - R0913 (too-many-arguments)

- `message: Too many arguments (7/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  236: class MPIArray(np.ndarray):
  ...
  700:         return dist_arr
  701:
> 702:     def to_hdf5(
  703:         self,
  704:         f,
```


## File caput/memh5.py - Line 947 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  931: class MemDatasetCommon(MemDataset):
  ...
  945:     """
  946:
> 947:     def __init__(
  948:         self,
  949:         shape,
```


## File caput/memh5.py - Line 1099 - R0913 (too-many-arguments)

- `message: Too many arguments (8/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1078: class MemDatasetDistributed(MemDataset):
  ...
  1097:     """
  1098:
> 1099:     def __init__(
  1100:         self,
  1101:         shape,
```


## File caput/time.py - Line 1116 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1114:
  1115:
> 1116: def _solve_all(f, x0, x1, dx, skip_increasing=False, skip_decreasing=False, **kwargs):
  1117:     """Find all roots of function f, within the interval [x0, x1].
  1118:
```


## File caput/memh5.py - Line 1469 - R0913 (too-many-arguments)

- `message: Too many arguments (8/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1253: class MemDiskGroup(_BaseGroup):
  ...
  1467:
  1468:     @classmethod
> 1469:     def from_file(
  1470:         cls,
  1471:         file_,
```


## File caput/memh5.py - Line 2272 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  2270:
  2271:
> 2272: def _distributed_group_to_hdf5_serial(
  2273:     group,
  2274:     fname,
```


## File caput/memh5.py - Line 2404 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  2402:
  2403:
> 2404: def _distributed_group_to_hdf5_parallel(
  2405:     group,
  2406:     fname,
```


# R0914: too-many-locals

## File caput/ephemeris.py - Line 46 - R0914 (too-many-locals)

- `message: Too many local variables (19/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  44:
  45:
> 46: def source_transit(obs, source, t0, t1=None, step=0.2, lower=False, return_dec=False):
  47:     """Find the transit times of the given source in an interval.
  48:
```


## File caput/tests/test_mpiarray.py - Line 98 - R0914 (too-many-locals)

- `message: Too many local variables (16/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
   16: class TestMPIArray(unittest.TestCase):
  ...
   96:                 mpiarray.MPIArray.wrap(df, axis=0)
   97:
>  98:     def test_io(self):
   99:
  100:         import h5py
```


## File caput/ephemeris.py - Line 122 - R0914 (too-many-locals)

- `message: Too many local variables (17/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  120:
  121:
> 122: def source_rise_set(obs, source, t0, t1=None, step=0.2, diameter=0.0):
  123:     """Find all times a sources rises or sets in an interval.
  124:
```


## File caput/scripts/runner.py - Line 175 - R0914 (too-many-locals)

- `message: Too many local variables (26/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  115: def run(configfile, loglevel, profile, profiler):
  ...
  173: @click.option(
  174:     "--lint/--nolint",
> 175:     default=True,
  176:     help="Check the pipeline for errors before submitting it.",
  177: )
```


## File caput/_version.py - Line 233 - R0914 (too-many-locals)

- `message: Too many local variables (17/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  231:
  232: @register_vcs_handler("git", "pieces_from_vcs")
> 233: def git_pieces_from_vcs(tag_prefix, root, verbose, run_command=run_command):
  234:     """Get version from 'git describe' in the root of the source tree.
  235:
```


## File caput/tod.py - Line 248 - R0914 (too-many-locals)

- `message: Too many local variables (46/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  246:
  247:
> 248: def concatenate(
  249:     data_list,
  250:     out_group=None,
```


## File caput/time.py - Line 440 - R0914 (too-many-locals)

- `message: Too many local variables (16/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  182: class Observer:
  ...
  438:         return ra
  439:
> 440:     def transit_times(
  441:         self, source, t0, t1=None, step=None, lower=False, return_dec=False
  442:     ):
```


## File caput/mpiutil.py - Line 449 - R0914 (too-many-locals)

- `message: Too many local variables (27/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  447:
  448:
> 449: def transpose_blocks(row_array, shape, comm=_comm):
  450:     """
  451:     Take a 2D matrix which is split between processes row-wise and split it
```


## File caput/mpiarray.py - Line 452 - R0914 (too-many-locals)

- `message: Too many local variables (24/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  236: class MPIArray(np.ndarray):
  ...
  450:         return dist_arr
  451:
> 452:     def redistribute(self, axis):
  453:         """Change the axis that the array is distributed over.
  454:
```


## File caput/memh5.py - Line 566 - R0914 (too-many-locals)

- `message: Too many local variables (17/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  358: class MemGroup(_BaseGroup):
  ...
  564:         return self[name]
  565:
> 566:     def create_dataset(
  567:         self,
  568:         name,
```


## File caput/mpiarray.py - Line 610 - R0914 (too-many-locals)

- `message: Too many local variables (25/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  236: class MPIArray(np.ndarray):
  ...
  608:
  609:     @classmethod
> 610:     def from_hdf5(cls, f, dataset, comm=None, axis=0, sel=None):
  611:         """Read MPIArray from an HDF5 dataset in parallel.
  612:
```


## File caput/mpiarray.py - Line 702 - R0914 (too-many-locals)

- `message: Too many local variables (21/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  236: class MPIArray(np.ndarray):
  ...
  700:         return dist_arr
  701:
> 702:     def to_hdf5(
  703:         self,
  704:         f,
```


## File caput/memh5.py - Line 747 - R0914 (too-many-locals)

- `message: Too many local variables (16/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  358: class MemGroup(_BaseGroup):
  ...
  745:         return self[full_path_name]
  746:
> 747:     def dataset_common_to_distributed(self, name, distributed_axis=0):
  748:         """Convert a common dataset to a distributed one.
  749:
```


## File caput/time.py - Line 1116 - R0914 (too-many-locals)

- `message: Too many local variables (17/15)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1114:
  1115:
> 1116: def _solve_all(f, x0, x1, dx, skip_increasing=False, skip_decreasing=False, **kwargs):
  1117:     """Find all roots of function f, within the interval [x0, x1].
  1118:
```


# R0915: too-many-statements

## File caput/scripts/runner.py - Line 175 - R0915 (too-many-statements)

- `message: Too many statements (75/50)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  115: def run(configfile, loglevel, profile, profiler):
  ...
  173: @click.option(
  174:     "--lint/--nolint",
> 175:     default=True,
  176:     help="Check the pipeline for errors before submitting it.",
  177: )
```


## File caput/tod.py - Line 248 - R0915 (too-many-statements)

- `message: Too many statements (94/50)`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  246:
  247:
> 248: def concatenate(
  249:     data_list,
  250:     out_group=None,
```


# R1718: consider-using-set-comprehension

## File caput/_version.py - Line 189 - R1718 (consider-using-set-comprehension)

- `message: Consider using a set comprehension`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  171: def git_versions_from_keywords(keywords, tag_prefix, verbose):
  ...
  187:             print("keywords are unexpanded, not using")
  188:         raise NotThisMethod("unexpanded keywords, not a git-archive tarball")
> 189:     refs = set([r.strip() for r in refnames.strip("()").split(",")])
  190:     # starting in git-1.8.3, tags are listed as "tag: foo-1.0" instead of
  191:     # just "foo-1.0". If we see a "tag: " prefix, prefer those.
```


## File caput/_version.py - Line 193 - R1718 (consider-using-set-comprehension)

- `message: Consider using a set comprehension`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  171: def git_versions_from_keywords(keywords, tag_prefix, verbose):
  ...
  191:     # just "foo-1.0". If we see a "tag: " prefix, prefer those.
  192:     TAG = "tag: "
> 193:     tags = set([r[len(TAG) :] for r in refs if r.startswith(TAG)])
  194:     if not tags:
  195:         # Either we're using git < 1.8.3, or there really are no tags. We use
```


## File caput/_version.py - Line 202 - R1718 (consider-using-set-comprehension)

- `message: Consider using a set comprehension`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  171: def git_versions_from_keywords(keywords, tag_prefix, verbose):
  ...
  200:         # filter out many common branch names like "release" and
  201:         # "stabilization", as well as "HEAD" and "master".
> 202:         tags = set([r for r in refs if re.search(r"\d", r)])
  203:         if verbose:
  204:             print("discarding '%s', no digits" % ",".join(refs - tags))
```


# R1720: no-else-raise

## File caput/memh5.py - Line 339 - R1720 (no-else-raise)

- `message: Unnecessary "else" after "raise"`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  329:     def require_dataset(self, name, shape, dtype, **kwargs):
  ...
  337:         except KeyError:
  338:             return self.create_dataset(name, shape=shape, dtype=dtype, **kwargs)
> 339:         if is_group(d):
  340:             msg = "Entry '%s' exists and is not a Dataset." % name
  341:             raise TypeError(msg)
```


## File caput/memh5.py - Line 351 - R1720 (no-else-raise)

- `message: Unnecessary "else" after "raise"`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  345:     def require_group(self, name):
  ...
  349:         except KeyError:
  350:             return self.create_group(name)
> 351:         if not is_group(g):
  352:             msg = "Entry '%s' exists and is not a Group." % name
  353:             raise TypeError(msg)
```


## File caput/pipeline.py - Line 1082 - R1720 (no-else-raise)

- `message: Unnecessary "else" after "raise"`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1055:     def _pipeline_inspect_queue_product(self, keys, products):
  ...
  1080:                         )
  1081:                         raise PipelineRuntimeError(msg)
> 1082:                     if not self._requires[jj] is None:
  1083:                         msg = "'requires' data product set more than once."
  1084:                         raise PipelineRuntimeError(msg)
```


## File caput/pipeline.py - Line 1094 - R1720 (no-else-raise)

- `message: Unnecessary "else" after "raise"`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1055:     def _pipeline_inspect_queue_product(self, keys, products):
  ...
  1092:                     logger.debug(msg)
  1093:                     # Check that task is still accepting inputs.
> 1094:                     if self._in is None:
  1095:                         msg = (
  1096:                             "Tried to queue 'requires' data product, but"
```


## File caput/memh5.py - Line 1311 - R1720 (no-else-raise)

- `message: Unnecessary "elif" after "raise"`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1287:     def __init__(self, data_group=None, distributed=False, comm=None):
  ...
  1309:             data_group, toclose = get_h5py_File(data_group, mode="a")
  1310:
> 1311:         if distributed and isinstance(data_group, h5py.Group):
  1312:             raise ValueError(
  1313:                 "Distributed MemDiskGroup cannot be created around h5py objects."
```


## File caput/pipeline.py - Line 1356 - R1720 (no-else-raise)

- `message: Unnecessary "else" after "raise"`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1351:     def next(self, input=None):
  ...
  1354:         # Sort out filenames.
  1355:         if self.iteration >= len(self.file_middles):
> 1356:             if not self.input_root == "None":
  1357:                 # We are iterating over input files and have run out.
  1358:                 raise PipelineStopIteration()
```


# R1724: no-else-continue

## File caput/pipeline.py - Line 619 - R1724 (no-else-continue)

- `message: Unnecessary "elif" after "continue"`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  590:     def run(self):
  ...
  617:                 # them.
  618:                 out_keys = task._out_keys
> 619:                 if out is None:  # This iteration supplied no output.
  620:                     continue
  621:                 elif len(out_keys) == 0:  # Output not handled by pipeline.
```


# R1725: super-with-arguments

## File caput/memh5.py - Line 283 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  281:     def _from_storage_root(cls, storage_root, name):
  282:         self = super(_BaseGroup, cls).__new__(cls)
> 283:         super(_BaseGroup, self).__init__(storage_root, name)
  284:         return self
  285:
```


## File caput/memh5.py - Line 984 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  964:     def from_numpy_array(
  ...
  982:
  983:         self = cls.__new__(cls)
> 984:         super(MemDatasetCommon, self).__init__(**kwargs)
  985:
  986:         self._data = data
```


## File caput/memh5.py - Line 1125 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Rick Nitsche <rick@phas.ubc.ca>`
- `date   : 2021-01-27T15:38:40`

```
  1118:     def from_mpi_array(
  ...
  1123:
  1124:         self = cls.__new__(cls)
> 1125:         super(MemDatasetDistributed, self).__init__(**kwargs)
  1126:
  1127:         self._data = data
```


